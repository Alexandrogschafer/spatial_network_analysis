
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>1. INTRODU√á√ÉO A GRAFOS &#8212; An√°lise Espacial de Redes</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!-- 
    this give us a css class that will be invisible only if js is disabled 
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=26a4bc78f4c0ddb94549" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=26a4bc78f4c0ddb94549" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- So that users can add custom icons -->
  <script src="_static/scripts/fontawesome.js?digest=26a4bc78f4c0ddb94549"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=26a4bc78f4c0ddb94549" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=26a4bc78f4c0ddb94549" />

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'capitulo1';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Cap√≠tulo 2 - Manipula√ß√£o de redes espaciais" href="capitulo2.html" />
    <link rel="prev" title="Welcome to your Jupyter Book" href="intro.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  <p>
    <a href="https://colab.research.google.com/github/Alexandrogschafer/spatial_network_analysis/blob/gh-pages/capitulo1.ipynb" target="_blank">
      üîó Clique aqui para abrir o notebook no Google Colab
    </a>
  </p>

  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/logo.png" class="logo__image only-light" alt="An√°lise Espacial de Redes - Home"/>
    <img src="_static/logo.png" class="logo__image only-dark pst-js-only" alt="An√°lise Espacial de Redes - Home"/>
  
  
</a></div>
        <div class="sidebar-primary-item">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    Welcome to your Jupyter Book
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1 current active"><a class="current reference internal" href="#">1. INTRODU√á√ÉO A GRAFOS</a></li>
<li class="toctree-l1"><a class="reference internal" href="capitulo2.html">Cap√≠tulo 2 - Manipula√ß√£o de redes espaciais</a></li>
<li class="toctree-l1"><a class="reference internal" href="capitulo3.html">Cap√≠tulo 3 - M√©tricas e indicadores de redes</a></li>
<li class="toctree-l1"><a class="reference internal" href="capitulo4.html">Cap√≠tulo 4 - Roteamento e an√°lise de tempos de viagem</a></li>
<li class="toctree-l1"><a class="reference internal" href="capitulo5.html">Cap√≠tulo 5 - Mapeamento de is√≥cronas para an√°lise de acessibilidade espacial</a></li>

<li class="toctree-l1"><a class="reference internal" href="referencias.html">Bibliografia b√°sica</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/Alexandrogschafer/spatial_network_analysis" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/Alexandrogschafer/spatial_network_analysis/issues/new?title=Issue%20on%20page%20%2Fcapitulo1.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/capitulo1.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button>


<button class="btn btn-sm pst-navbar-icon search-button search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
</button>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>1. INTRODU√á√ÉO A GRAFOS</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introducao">Introdu√ß√£o</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#fundamentos-sobre-grafos">1.1 Fundamentos sobre Grafos</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#a-biblioteca-networkx-do-python">1.2 A biblioteca NetworkX do Python</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#criando-e-manipulando-um-grafo-simples">1.3 Criando e Manipulando um Grafo Simples</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#criando-um-digrafo-de-viagens-entre-capitais-brasileiras">1.4 Criando um Digrafo de Viagens entre Capitais Brasileiras</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#estrutura-do-exercicio">Estrutura do Exerc√≠cio:</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#encontrando-o-caminho-mais-curto-no-digrafo"><strong>1.4.1 - Encontrando o Caminho Mais Curto no Digrafo</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#calculando-o-caminho-com-menor-soma-de-populacoes"><strong>1.4.2 Calculando o Caminho com Menor Soma de Popula√ß√µes</strong></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#criando-um-multigrafo-no-networkx"><strong>1.5 Criando um Multigrafo no NetworkX</strong></a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="introducao-a-grafos">
<h1>1. INTRODU√á√ÉO A GRAFOS<a class="headerlink" href="#introducao-a-grafos" title="Link to this heading">#</a></h1>
<section id="introducao">
<h2>Introdu√ß√£o<a class="headerlink" href="#introducao" title="Link to this heading">#</a></h2>
<p>A an√°lise de redes espaciais √© uma √°rea de estudo que tem como objetivo investigar a organiza√ß√£o e a conectividade de elementos espaciais, seja no contexto de infraestruturas urbanas, distribui√ß√£o de recursos naturais ou fluxos de informa√ß√£o. A modelagem de rela√ß√µes espaciais por meio de grafos constitui uma abordagem √∫til para descrever e analisar a complexidade das intera√ß√µes geogr√°ficas.</p>
<p>Os grafos s√£o estruturas matem√°ticas fundamentais na representa√ß√£o e an√°lise de rela√ß√µes e conex√µes em diversas √°reas do conhecimento. A ideia central de um grafo consiste em um conjunto de n√≥s (ou v√©rtices) conectados por arestas (ou liga√ß√µes), que podem representar diversas situa√ß√µes reais, como redes de transportes, redes el√©tricas, redes sociais e, especialmente, redes espaciais. Neste cap√≠tulo, vamos explorar os conceitos b√°sicos de grafos e mostrar como eles podem ser aplicados √† an√°lise espacial de redes, utilizando o Python e a biblioteca NetworkX.</p>
<p>O cap√≠tulo √© organizado para introduzir, de forma progressiva, os conceitos fundamentais de grafos, incluindo v√©rtices, arestas, graus, componentes conectados e o papel de diferentes tipos de grafos, como grafos direcionados e n√£o direcionados. Voc√™ tamb√©m aprender√° como construir grafos simples e representativos utilizando a biblioteca NetworkX, explorando suas principais fun√ß√µes e como elas podem ser utilizadas para responder a perguntas espec√≠ficas sobre redes espaciais.</p>
</section>
<section id="fundamentos-sobre-grafos">
<h2>1.1 Fundamentos sobre Grafos<a class="headerlink" href="#fundamentos-sobre-grafos" title="Link to this heading">#</a></h2>
<p>Um grafo √© uma estrutura composta por um conjunto de v√©rtices (ou n√≥s) e um conjunto de arestas (ou liga√ß√µes) que conectam esses v√©rtices. Formalmente, um grafo <strong>G</strong> √© definido como <strong>G = (V, E)</strong>, onde <strong>V</strong> √© o conjunto de v√©rtices e <strong>E</strong> √© o conjunto de arestas que conectam pares de v√©rtices. As arestas podem representar rela√ß√µes de diversos tipos, como conex√µes f√≠sicas, caminhos ou qualquer tipo de v√≠nculo entre os elementos representados pelos n√≥s.</p>
<p>Grafos s√£o amplamente utilizados em diversas √°reas do conhecimento, pois permitem modelar rela√ß√µes e intera√ß√µes de forma intuitiva e visual. Na ci√™ncia da computa√ß√£o, s√£o usados para representar redes de computadores, estrutura de dados e algoritmos. Na engenharia, grafos s√£o utilizados para modelar redes de transporte e distribui√ß√£o, como redes el√©tricas, sistemas de √°gua e esgoto, e redes de tr√°fego. Nas ci√™ncias sociais, s√£o usados para analisar redes de amizade e intera√ß√µes sociais. Em geografia e an√°lise espacial, grafos ajudam a representar redes espaciais, como estradas, rios e sistemas urbanos.</p>
<p>Existem diferentes tipos de grafos, cada um com suas caracter√≠sticas e aplica√ß√µes espec√≠ficas:</p>
<ul class="simple">
<li><p><strong>Grafos n√£o direcionados</strong>: Neste tipo de grafo, as arestas n√£o possuem uma dire√ß√£o espec√≠fica, ou seja, a rela√ß√£o entre os n√≥s √© bidirecional. Um exemplo t√≠pico de grafo n√£o direcionado √© uma rede de estradas, onde √© poss√≠vel trafegar em ambos os sentidos entre duas cidades conectadas.</p></li>
</ul>
<p><img alt="Descri√ß√£o da Imagem" src="_images/figura1.png" /></p>
<ul class="simple">
<li><p><strong>Grafos direcionados (ou d√≠grafos)</strong>: Nos grafos direcionados, as arestas possuem uma dire√ß√£o, representando uma rela√ß√£o unidirecional entre os n√≥s. Um exemplo comum √© a representa√ß√£o de rotas de voo, onde uma aresta conecta duas cidades, mas apenas em uma dire√ß√£o espec√≠fica.</p></li>
</ul>
<p><img alt="Descri√ß√£o da Imagem" src="_images/figura2.png" /></p>
<ul class="simple">
<li><p><strong>Grafos ponderados</strong>: Nos grafos ponderados, cada aresta tem um valor associado, chamado de peso, que pode representar a dist√¢ncia, o custo ou qualquer outra medida relevante. Por exemplo, em uma rede de transporte, o peso da aresta pode representar a dist√¢ncia entre duas localidades ou o tempo necess√°rio para percorr√™-la.</p></li>
</ul>
<p><img alt="Descri√ß√£o da Imagem" src="_images/figura3.png" /></p>
<ul class="simple">
<li><p><strong>Grafos n√£o ponderados</strong>: Neste caso, as arestas n√£o possuem pesos associados, ou seja, todas as conex√µes s√£o consideradas equivalentes.</p></li>
<li><p><strong>Grafos simples e multigrafos</strong>: Um grafo simples √© aquele em que existe, no m√°ximo, uma aresta entre dois n√≥s, e n√£o h√° la√ßos (arestas que conectam um n√≥ a ele mesmo). J√° um multigrafo permite m√∫ltiplas arestas entre os mesmos n√≥s, podendo representar, por exemplo, diferentes rotas entre duas cidades.</p></li>
</ul>
<p><img alt="Descri√ß√£o da Imagem" src="_images/figura4.png" /></p>
<ul class="simple">
<li><p><strong>Grafos completos</strong>: Um grafo completo √© aquele em que todos os n√≥s est√£o conectados a todos os outros n√≥s. Esses grafos s√£o √∫teis para estudar cen√°rios em que cada elemento se relaciona diretamente com todos os demais.</p></li>
</ul>
<p><img alt="Descri√ß√£o da Imagem" src="_images/figura5.png" /></p>
<p>Esses diferentes tipos de grafos permitem modelar uma ampla variedade de problemas e situa√ß√µes.</p>
</section>
<section id="a-biblioteca-networkx-do-python">
<h2>1.2 A biblioteca NetworkX do Python<a class="headerlink" href="#a-biblioteca-networkx-do-python" title="Link to this heading">#</a></h2>
<p>O Python √© amplamente utilizado para a an√°lise espacial de redes. Uma das principais raz√µes √© a possibilidade de automatiza√ß√£o e reprodutibilidade, j√° que Python permite a cria√ß√£o de scripts que processam dados de forma consistente, ideal para an√°lises repetidas ou pipelines automatizados. Al√©m disso, o Python oferece controle total sobre o processo anal√≠tico, o que proporciona flexibilidade na customiza√ß√£o de algoritmos e ajustes que muitas vezes n√£o s√£o poss√≠veis em ferramentas SIG Desktop.</p>
<p>Outro diferencial importante do Python √© a ampla gama de bibliotecas dispon√≠veis, como <strong>NetworkX</strong>, <strong>OSMnx</strong> e <strong>GeoPandas</strong>, que permitem manipular grafos e dados geoespaciais com grande flexibilidade. A escalabilidade tamb√©m √© uma vantagem significativa, pois Python pode lidar com grandes volumes de dados e permitir o uso de t√©cnicas de programa√ß√£o paralela, algo que um SIG Desktop, com sua interface gr√°fica, pode enfrentar limita√ß√µes.</p>
<p>Python se destaca ainda pela sua capacidade de integra√ß√£o com outras ferramentas e fluxos de trabalho, como bibliotecas de aprendizado de m√°quina (<strong>scikit-learn</strong>) e visualiza√ß√£o de dados (<strong>matplotlib</strong>), oferecendo uma solu√ß√£o mais robusta e completa para an√°lises complexas. Al√©m disso, a customiza√ß√£o e flexibilidade que Python proporciona s√£o incompar√°veis, permitindo a adapta√ß√£o do c√≥digo a necessidades muito espec√≠ficas. Por fim, a possibilidade de executar Python em ambientes n√£o gr√°ficos torna-o ideal para pipelines automatizados e execu√ß√µes em servidores ou na nuvem. Esses fatores fazem com que Python seja uma escolha vantajosa quando h√° necessidade de personaliza√ß√£o, automa√ß√£o, escalabilidade e controle total sobre o processo anal√≠tico, enquanto um SIG Desktop pode ser mais limitado nessas quest√µes.</p>
<p>No ecossistema do Python, o <strong>NetworkX</strong> √© uma biblioteca em Python voltada para a cria√ß√£o, manipula√ß√£o e an√°lise de grafos e redes complexas. Ele oferece ferramentas eficientes para modelar e estudar redes em diversas √°reas, como redes sociais, infraestrutura urbana, sistemas biol√≥gicos e redes de transporte. Entre seus principais recursos, destaca-se o suporte √† cria√ß√£o de diferentes tipos de grafos, como grafos simples, d√≠grafos (grafos direcionados) e multigrafos (com m√∫ltiplas arestas entre dois n√≥s), permitindo que n√≥s e arestas possuam atributos associados, como r√≥tulos, pesos ou dist√¢ncias.</p>
<p>A biblioteca tamb√©m possibilita a adi√ß√£o, remo√ß√£o e modifica√ß√£o de n√≥s e arestas, al√©m de permitir consultas sobre a estrutura do grafo, como vizinhan√ßa e grau de conex√£o. O <strong>NetworkX</strong> oferece uma gama de algoritmos para a an√°lise de redes, incluindo caminhos m√≠nimos, medidas de centralidade, detec√ß√£o de componentes conexos e identifica√ß√£o de comunidades. Adicionalmente, permite a importa√ß√£o e exporta√ß√£o de grafos em formatos comuns, como <strong>GraphML</strong>, <strong>GML</strong> e <strong>Edgelist</strong>, facilitando a integra√ß√£o com outras ferramentas. Embora a visualiza√ß√£o de grafos n√£o seja seu foco principal, a biblioteca inclui funcionalidades b√°sicas de visualiza√ß√£o compat√≠veis com o <strong>Matplotlib</strong>. O <strong>NetworkX</strong> √© amplamente utilizado tanto em pesquisas acad√™micas quanto em projetos pr√°ticos, sendo uma ferramenta flex√≠vel e poderosa para a an√°lise de redes e grafos.</p>
<p>Ao longo deste cap√≠tulo, vamos explorar como criar e manipular esses diferentes tipos de grafos, utilizando a biblioteca <strong>NetworkX</strong>, para que voc√™ possa compreender suas caracter√≠sticas e como aplic√°-los na an√°lise espacial de redes.</p>
<p>Vamos fazer <strong>tr√™s exerc√≠cios pr√°ticos</strong> que permitir√£o aplicar os conceitos discutidos anteriormente. O primeiro exerc√≠cio ser√° a cria√ß√£o de um grafo simples; o segundo, de um digrafo; e, finalmente, no terceiro exerc√≠cio, trabalharemos com um multigrafo. Esses exemplos pr√°ticos ajudar√£o a solidificar sua compreens√£o sobre os diferentes tipos de grafos e suas aplica√ß√µes na an√°lise espacial de redes, utilizando a biblioteca <strong>NetworkX</strong>.</p>
</section>
<section id="criando-e-manipulando-um-grafo-simples">
<h2>1.3 Criando e Manipulando um Grafo Simples<a class="headerlink" href="#criando-e-manipulando-um-grafo-simples" title="Link to this heading">#</a></h2>
<p>Neste exerc√≠cio, voc√™ aprender√° a criar um grafo n√£o direcionado no Python utilizando a biblioteca <code class="docutils literal notranslate"><span class="pre">networkx</span></code>. O foco ser√° a cria√ß√£o de um grafo que represente algumas capitais do Brasil e suas conex√µes, explorando ferramentas b√°sicas de <code class="docutils literal notranslate"><span class="pre">networkx</span></code> ao longo do processo. Al√©m disso, ser√° abordada a inclus√£o de atributos como a popula√ß√£o das capitais e a manipula√ß√£o de n√≥s e arestas. No final, o grafo ser√° visualizado, com √™nfase nas conex√µes e nos atributos associados a n√≥s e arestas.</p>
<p>Inicialmente, vamos importar as bibliotecas necess√°rias para criar e visualizar o grafo. Utilizaremos a biblioteca <code class="docutils literal notranslate"><span class="pre">networkx</span></code> para manipula√ß√£o de grafos e <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code> para visualiza√ß√£o.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">networkx</span> <span class="k">as</span> <span class="nn">nx</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
</pre></div>
</div>
</div>
</div>
<p>Agora, vamos criar um grafo vazio e adicionar alguns atributos globais, como a data de cria√ß√£o, o nome do projeto e a vers√£o. Esses atributos s√£o √∫teis para registrar informa√ß√µes sobre o grafo, ajudando a documentar quando e para que finalidade ele foi criado.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Criando um grafo vazio</span>
<span class="n">G</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">Graph</span><span class="p">()</span>

<span class="c1"># Adicionando atributos globais ao grafo, como data de cria√ß√£o, nome do projeto e vers√£o</span>
<span class="n">G</span><span class="o">.</span><span class="n">graph</span><span class="p">[</span><span class="s1">&#39;data_criacao&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;2024-01-02&#39;</span>  <span class="c1"># Data de cria√ß√£o do grafo</span>
<span class="n">G</span><span class="o">.</span><span class="n">graph</span><span class="p">[</span><span class="s1">&#39;projeto&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;An√°lise de Capitais Brasileiras&#39;</span>  <span class="c1"># Nome do projeto</span>
<span class="n">G</span><span class="o">.</span><span class="n">graph</span><span class="p">[</span><span class="s1">&#39;versao&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;1.0&#39;</span>  <span class="c1"># Vers√£o do grafo</span>

<span class="c1"># Exibindo os atributos globais do grafo</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Atributos do grafo G:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">graph</span><span class="p">)</span>  <span class="c1"># Imprime o dicion√°rio contendo os atributos globais do grafo</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Atributos do grafo G:
{&#39;data_criacao&#39;: &#39;2024-01-02&#39;, &#39;projeto&#39;: &#39;An√°lise de Capitais Brasileiras&#39;, &#39;versao&#39;: &#39;1.0&#39;}
</pre></div>
</div>
</div>
</div>
<p>Neste c√≥digo, estamos criando e configurando um grafo utilizando a biblioteca <code class="docutils literal notranslate"><span class="pre">networkx</span></code>.</p>
<ul class="simple">
<li><p><strong>Cria√ß√£o do grafo</strong>: A primeira linha cria um grafo vazio chamado <code class="docutils literal notranslate"><span class="pre">G</span></code> utilizando a <strong>classe</strong> <code class="docutils literal notranslate"><span class="pre">Graph</span></code> da biblioteca <code class="docutils literal notranslate"><span class="pre">networkx</span></code>. Esse grafo ser√° usado para representar um conjunto de n√≥s e conex√µes (arestas) entre eles.</p></li>
<li><p><strong>Atributos globais</strong>: Em seguida, estamos adicionando tr√™s atributos globais ao grafo:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">data_criacao</span></code>: Define a data de cria√ß√£o do grafo.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">projeto</span></code>: Especifica o nome do projeto relacionado ao grafo.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">versao</span></code>: Indica a vers√£o atual do grafo.</p></li>
</ul>
</li>
</ul>
<p>Esses atributos s√£o √∫teis para fornecer informa√ß√µes sobre o grafo como um todo, facilitando o acompanhamento e documenta√ß√£o do projeto.</p>
<ul class="simple">
<li><p><strong>Exibi√ß√£o dos atributos</strong>: Por fim, o c√≥digo imprime os atributos globais do grafo como um dicion√°rio, permitindo visualizar as informa√ß√µes adicionadas ao grafo.</p></li>
</ul>
<p>Em seguida, vamos adicionar alguns n√≥s ao grafo, representando as capitais da regi√£o sudeste do Brasil. Aqui, estamos apenas incluindo os n√≥s correspondentes √†s cidades, sem ainda definir conex√µes entre elas.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="s1">&#39;S√£o Paulo&#39;</span><span class="p">)</span>
<span class="n">G</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="s1">&#39;Rio de Janeiro&#39;</span><span class="p">)</span>
<span class="n">G</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="s1">&#39;Belo Horizonte&#39;</span><span class="p">)</span>
<span class="n">G</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="s1">&#39;Vit√≥ria&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>O comando <code class="docutils literal notranslate"><span class="pre">G.add_node('S√£o</span> <span class="pre">Paulo')</span></code> adiciona um n√≥ ao grafo <code class="docutils literal notranslate"><span class="pre">G</span></code> com o r√≥tulo <strong>‚ÄòS√£o Paulo‚Äô</strong>. Neste contexto, <strong>‚ÄòS√£o Paulo‚Äô</strong> representa uma cidade, que ser√° tratada como um v√©rtice no grafo.</p>
<p>Agora que j√° temos os n√≥s no grafo, vamos visualiz√°-los. Nesta visualiza√ß√£o inicial, exibiremos apenas os n√≥s, sem as conex√µes (arestas) entre eles. Para isso, utilizamos um layout de disposi√ß√£o dos n√≥s e exibimos suas posi√ß√µes no gr√°fico.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pos</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">spring_layout</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw_networkx_nodes</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">node_color</span><span class="o">=</span><span class="s1">&#39;lightblue&#39;</span><span class="p">,</span> <span class="n">node_size</span><span class="o">=</span><span class="mi">3000</span><span class="p">)</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw_networkx_labels</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">font_size</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">font_weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Capitais do Sudeste (Apenas N√≥s)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/b5cd1a73234afe9f2d63a12eff12d0ebd8d8e8ee203c5c510c698f728ebf11a5.png" src="_images/b5cd1a73234afe9f2d63a12eff12d0ebd8d8e8ee203c5c510c698f728ebf11a5.png" />
</div>
</div>
<p>No c√≥digo acima:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">pos</span> <span class="pre">=</span> <span class="pre">nx.spring_layout(G,</span> <span class="pre">seed=42)</span></code>: Gera as posi√ß√µes dos n√≥s do grafo <code class="docutils literal notranslate"><span class="pre">G</span></code> utilizando o layout de mola (<strong>spring layout</strong>), que distribui os n√≥s de forma equilibrada no espa√ßo, simulando for√ßas f√≠sicas. O par√¢metro <code class="docutils literal notranslate"><span class="pre">seed=42</span></code> garante que a disposi√ß√£o dos n√≥s ser√° sempre a mesma, facilitando a reprodu√ß√£o do gr√°fico.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">plt.figure(figsize=(8,</span> <span class="pre">6))</span></code>: Cria uma nova figura para o gr√°fico com um tamanho de 8x6 polegadas, especificando as dimens√µes da visualiza√ß√£o.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">nx.draw_networkx_nodes(G,</span> <span class="pre">pos,</span> <span class="pre">node_color='lightblue',</span> <span class="pre">node_size=3000)</span></code>: Desenha os n√≥s do grafo <code class="docutils literal notranslate"><span class="pre">G</span></code> utilizando as posi√ß√µes definidas em <code class="docutils literal notranslate"><span class="pre">pos</span></code>. Os n√≥s ser√£o visualizados na cor azul-claro (<code class="docutils literal notranslate"><span class="pre">lightblue</span></code>) com um tamanho de 3000 unidades.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">nx.draw_networkx_labels(G,</span> <span class="pre">pos,</span> <span class="pre">font_size=10,</span> <span class="pre">font_weight='bold')</span></code>: Adiciona r√≥tulos aos n√≥s com um tamanho de fonte de 10 e com estilo em negrito (<code class="docutils literal notranslate"><span class="pre">font_weight='bold</span></code>), permitindo identificar cada n√≥ pelo seu nome.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">plt.title(&quot;Capitais</span> <span class="pre">do</span> <span class="pre">Sudeste</span> <span class="pre">(Apenas</span> <span class="pre">N√≥s)&quot;)</span></code>: Define o t√≠tulo do gr√°fico como ‚ÄúCapitais do Sudeste (Apenas N√≥s)‚Äù, indicando que estamos visualizando apenas os n√≥s (as capitais), sem suas conex√µes.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">plt.show()</span></code>: Exibe o gr√°fico gerado na janela de visualiza√ß√£o.</p></li>
</ul>
<p>Agora, vamos adicionar o atributo de popula√ß√£o a cada n√≥, representando o n√∫mero de habitantes de cada capital. Isso permitir√° que cada n√≥ tenha uma informa√ß√£o adicional √∫til para an√°lises futuras:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="s1">&#39;S√£o Paulo&#39;</span><span class="p">][</span><span class="s1">&#39;populacao&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">12396372</span>
<span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="s1">&#39;Rio de Janeiro&#39;</span><span class="p">][</span><span class="s1">&#39;populacao&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">6747815</span>
<span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="s1">&#39;Belo Horizonte&#39;</span><span class="p">][</span><span class="s1">&#39;populacao&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2521564</span>
<span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="s1">&#39;Vit√≥ria&#39;</span><span class="p">][</span><span class="s1">&#39;populacao&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">365855</span>
</pre></div>
</div>
</div>
</div>
<p>No c√≥digo acima, <code class="docutils literal notranslate"><span class="pre">G.nodes['S√£o</span> <span class="pre">Paulo']['populacao']</span> <span class="pre">=</span> <span class="pre">12396372</span></code> adiciona ou define um atributo chamado <strong>‚Äòpopulacao‚Äô</strong> para o n√≥ <strong>‚ÄòS√£o Paulo‚Äô</strong> no grafo <code class="docutils literal notranslate"><span class="pre">G</span></code>, com o valor de <strong>12.396.372</strong> (representando a popula√ß√£o da cidade).</p>
<p>Em seguida, vamos consultar o n√∫mero de n√≥s presentes no grafo, juntamente com seus atributos, para confirmar que os dados foram inseridos corretamente:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;N√≥s no grafo G:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>N√≥s no grafo G:
[(&#39;S√£o Paulo&#39;, {&#39;populacao&#39;: 12396372}), (&#39;Rio de Janeiro&#39;, {&#39;populacao&#39;: 6747815}), (&#39;Belo Horizonte&#39;, {&#39;populacao&#39;: 2521564}), (&#39;Vit√≥ria&#39;, {&#39;populacao&#39;: 365855})]
</pre></div>
</div>
</div>
</div>
<p>No c√≥digo acima:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">print(G.nodes(data=True))</span></code>: Exibe todos os n√≥s presentes no grafo <code class="docutils literal notranslate"><span class="pre">G</span></code>, juntamente com seus atributos. O par√¢metro <code class="docutils literal notranslate"><span class="pre">data=True</span></code> faz com que o <code class="docutils literal notranslate"><span class="pre">networkx</span></code> imprima os dados associados a cada n√≥ (como atributos que foram adicionados, por exemplo, a popula√ß√£o no caso de S√£o Paulo). O resultado ser√° uma lista de tuplas, onde cada tupla cont√©m o nome do n√≥ e um dicion√°rio com os atributos e seus respectivos valores.</p></li>
</ul>
<p>Agora, vamos atualizar a visualiza√ß√£o dos n√≥s, incluindo o n√∫mero de habitantes (popula√ß√£o) associado a cada capital. Dessa forma, a visualiza√ß√£o ser√° mais informativa:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">labels</span> <span class="o">=</span> <span class="p">{</span><span class="n">n</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">n</span><span class="si">}</span><span class="se">\n</span><span class="s2">Pop: </span><span class="si">{</span><span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">n</span><span class="p">][</span><span class="s1">&#39;populacao&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">()}</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw_networkx_nodes</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">node_color</span><span class="o">=</span><span class="s1">&#39;lightblue&#39;</span><span class="p">,</span> <span class="n">node_size</span><span class="o">=</span><span class="mi">3000</span><span class="p">)</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw_networkx_labels</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">labels</span><span class="p">,</span> <span class="n">font_size</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">font_weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Capitais do Sudeste com Popula√ß√£o&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/a17a9f181dd4f3504cd800d8287b147b2ed15776dd518ccdfc69da24d777f31e.png" src="_images/a17a9f181dd4f3504cd800d8287b147b2ed15776dd518ccdfc69da24d777f31e.png" />
</div>
</div>
<p>Para remover um n√≥ do grafo, podemos utilizar a fun√ß√£o <code class="docutils literal notranslate"><span class="pre">remove_node()</span></code>. Por exemplo, vamos remover o n√≥ ‚ÄúRio de Janeiro‚Äù:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span><span class="o">.</span><span class="n">remove_node</span><span class="p">(</span><span class="s1">&#39;Rio de Janeiro&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Agora seu markdown est√° formatado corretamente com c√©lulas de c√≥digo execut√°vel identificadas para Jupyter Book.</p>
<p>Aqui est√° o markdown revisado com as c√©lulas de c√≥digo execut√°vel corretamente formatadas para o Jupyter Book:</p>
<p>Ap√≥s a remo√ß√£o do n√≥, vamos plotar o grafo novamente para verificar o resultado, observando a aus√™ncia de ‚ÄúRio de Janeiro‚Äù no grafo:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pos</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">spring_layout</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">with_labels</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">node_color</span><span class="o">=</span><span class="s1">&#39;lightblue&#39;</span><span class="p">,</span> <span class="n">node_size</span><span class="o">=</span><span class="mi">3000</span><span class="p">,</span> <span class="n">font_size</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">font_weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Capitais do Sudeste sem Rio de Janeiro&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/24f0bf0155d6f4744e7d6e6618be97994f68d74e715ff112463469695b5c2bde.png" src="_images/24f0bf0155d6f4744e7d6e6618be97994f68d74e715ff112463469695b5c2bde.png" />
</div>
</div>
<p>Agora que vimos como a fun√ß√£o <code class="docutils literal notranslate"><span class="pre">remove_node()</span></code> funciona, vamos inserir novamente o n√≥ referente ao <strong>Rio de Janeiro</strong> no grafo, adicionando tamb√©m o atributo de popula√ß√£o, com a fun√ß√£o <code class="docutils literal notranslate"><span class="pre">add_node()</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Adicionando o n√≥ referente ao Rio de Janeiro</span>
<span class="n">G</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="s1">&#39;Rio de Janeiro&#39;</span><span class="p">,</span> <span class="n">populacao</span><span class="o">=</span><span class="mi">6747815</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Em seguida, vamos plotar novamente o grafo para verificar a inclus√£o do n√≥ <strong>Rio de Janeiro</strong>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pos</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">spring_layout</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">with_labels</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">node_color</span><span class="o">=</span><span class="s1">&#39;lightblue&#39;</span><span class="p">,</span> <span class="n">node_size</span><span class="o">=</span><span class="mi">3000</span><span class="p">,</span> <span class="n">font_size</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">font_weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Capitais do Sudeste com a Inclus√£o do Rio de Janeiro&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/210e156e1cda42f2c0fb1cf8340e12893cc7e222ebd149cca90c93451dcd1ba7.png" src="_images/210e156e1cda42f2c0fb1cf8340e12893cc7e222ebd149cca90c93451dcd1ba7.png" />
</div>
</div>
<p>Agora, vamos adicionar as <strong>arestas</strong> que conectam as capitais entre si, usando a fun√ß√£o <code class="docutils literal notranslate"><span class="pre">add_edge()</span></code>. Cada aresta representa uma conex√£o entre duas cidades:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="s1">&#39;S√£o Paulo&#39;</span><span class="p">,</span> <span class="s1">&#39;Rio de Janeiro&#39;</span><span class="p">)</span>
<span class="n">G</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="s1">&#39;S√£o Paulo&#39;</span><span class="p">,</span> <span class="s1">&#39;Belo Horizonte&#39;</span><span class="p">)</span>
<span class="n">G</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="s1">&#39;Rio de Janeiro&#39;</span><span class="p">,</span> <span class="s1">&#39;Belo Horizonte&#39;</span><span class="p">)</span>
<span class="n">G</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="s1">&#39;Rio de Janeiro&#39;</span><span class="p">,</span> <span class="s1">&#39;Vit√≥ria&#39;</span><span class="p">)</span>
<span class="n">G</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="s1">&#39;Belo Horizonte&#39;</span><span class="p">,</span> <span class="s1">&#39;Vit√≥ria&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>No c√≥digo acima, <code class="docutils literal notranslate"><span class="pre">G.add_edge('S√£o</span> <span class="pre">Paulo',</span> <span class="pre">'Rio</span> <span class="pre">de</span> <span class="pre">Janeiro')</span></code> adiciona uma <strong>aresta</strong> (conex√£o) entre os n√≥s <strong>‚ÄòS√£o Paulo‚Äô</strong> e <strong>‚ÄòRio de Janeiro‚Äô</strong> no grafo <code class="docutils literal notranslate"><span class="pre">G</span></code>. Se os n√≥s ainda n√£o existirem no grafo, eles ser√£o automaticamente criados antes de estabelecer a conex√£o.</p>
<p>Com as conex√µes estabelecidas, podemos visualizar o grafo completo, mostrando n√£o s√≥ os n√≥s, mas tamb√©m as conex√µes entre as capitais:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">with_labels</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">node_color</span><span class="o">=</span><span class="s1">&#39;lightblue&#39;</span><span class="p">,</span> <span class="n">node_size</span><span class="o">=</span><span class="mi">3000</span><span class="p">,</span> <span class="n">font_size</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">font_weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Capitais do Sudeste e Conex√µes&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/c9038fb8f7651ff47b10623c81ba59ce621092d121b8b72b6f548bd2a6803a7c.png" src="_images/c9038fb8f7651ff47b10623c81ba59ce621092d121b8b72b6f548bd2a6803a7c.png" />
</div>
</div>
<p>Agora, vamos contar quantas <strong>arestas</strong> existem no grafo, ou seja, quantas conex√µes foram feitas entre as capitais. Para tanto, usamos a fun√ß√£o <code class="docutils literal notranslate"><span class="pre">number_of_edges()</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">numero_arestas_G</span> <span class="o">=</span> <span class="n">G</span><span class="o">.</span><span class="n">number_of_edges</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;N√∫mero de arestas no grafo G: </span><span class="si">{</span><span class="n">numero_arestas_G</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>N√∫mero de arestas no grafo G: 5
</pre></div>
</div>
</div>
</div>
<p>Em seguida, vamos adicionar o atributo <code class="docutils literal notranslate"><span class="pre">distancia</span></code> a cada aresta, representando a dist√¢ncia aproximada entre as capitais conectadas. Isso nos permitir√° ter informa√ß√µes mais detalhadas sobre as conex√µes:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span><span class="o">.</span><span class="n">edges</span><span class="p">[</span><span class="s1">&#39;S√£o Paulo&#39;</span><span class="p">,</span> <span class="s1">&#39;Rio de Janeiro&#39;</span><span class="p">][</span><span class="s1">&#39;distancia&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">430</span>
<span class="n">G</span><span class="o">.</span><span class="n">edges</span><span class="p">[</span><span class="s1">&#39;S√£o Paulo&#39;</span><span class="p">,</span> <span class="s1">&#39;Belo Horizonte&#39;</span><span class="p">][</span><span class="s1">&#39;distancia&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">590</span>
<span class="n">G</span><span class="o">.</span><span class="n">edges</span><span class="p">[</span><span class="s1">&#39;Rio de Janeiro&#39;</span><span class="p">,</span> <span class="s1">&#39;Belo Horizonte&#39;</span><span class="p">][</span><span class="s1">&#39;distancia&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">440</span>
<span class="n">G</span><span class="o">.</span><span class="n">edges</span><span class="p">[</span><span class="s1">&#39;Rio de Janeiro&#39;</span><span class="p">,</span> <span class="s1">&#39;Vit√≥ria&#39;</span><span class="p">][</span><span class="s1">&#39;distancia&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">520</span>
<span class="n">G</span><span class="o">.</span><span class="n">edges</span><span class="p">[</span><span class="s1">&#39;Belo Horizonte&#39;</span><span class="p">,</span> <span class="s1">&#39;Vit√≥ria&#39;</span><span class="p">][</span><span class="s1">&#39;distancia&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">530</span>
</pre></div>
</div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">G.edges['S√£o</span> <span class="pre">Paulo',</span> <span class="pre">'Rio</span> <span class="pre">de</span> <span class="pre">Janeiro']['distancia']</span> <span class="pre">=</span> <span class="pre">430</span></code>: este comando adiciona ou define um atributo chamado <strong>‚Äòdistancia‚Äô</strong> para a aresta que conecta os n√≥s <strong>‚ÄòS√£o Paulo‚Äô</strong> e <strong>‚ÄòRio de Janeiro‚Äô</strong> no grafo <code class="docutils literal notranslate"><span class="pre">G</span></code>.</p>
<p>Agora, podemos exibir todas as arestas e seus atributos, como as dist√¢ncias entre as capitais, para garantir que os dados foram inseridos corretamente:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Arestas no grafo G com atributos:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">edges</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Arestas no grafo G com atributos:
[(&#39;S√£o Paulo&#39;, &#39;Rio de Janeiro&#39;, {&#39;distancia&#39;: 430}), (&#39;S√£o Paulo&#39;, &#39;Belo Horizonte&#39;, {&#39;distancia&#39;: 590}), (&#39;Belo Horizonte&#39;, &#39;Rio de Janeiro&#39;, {&#39;distancia&#39;: 440}), (&#39;Belo Horizonte&#39;, &#39;Vit√≥ria&#39;, {&#39;distancia&#39;: 530}), (&#39;Vit√≥ria&#39;, &#39;Rio de Janeiro&#39;, {&#39;distancia&#39;: 520})]
</pre></div>
</div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">print(G.edges(data=True))</span></code>: este comando exibe todas as arestas presentes no grafo <code class="docutils literal notranslate"><span class="pre">G</span></code>, juntamente com seus atributos. O par√¢metro <code class="docutils literal notranslate"><span class="pre">data=True</span></code> faz com que o <code class="docutils literal notranslate"><span class="pre">networkx</span></code> imprima os dados associados a cada aresta (como atributos que foram adicionados, por exemplo, a dist√¢ncia entre <strong>S√£o Paulo</strong> e <strong>Rio de Janeiro</strong>). O resultado ser√° uma lista de tuplas, onde cada tupla cont√©m os dois n√≥s conectados pela aresta e um dicion√°rio com os atributos e seus respectivos valores.</p>
<p>Com isso, conseguimos visualizar as conex√µes entre as capitais, juntamente com os atributos associados a cada aresta, como a dist√¢ncia. Isso nos d√° uma base s√≥lida para realizar futuras an√°lises no grafo.</p>
<p>Agora, vamos visualizar novamente o grafo, desta vez incluindo as dist√¢ncias nas arestas que conectam as capitais:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pos</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">spring_layout</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">with_labels</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">node_color</span><span class="o">=</span><span class="s1">&#39;lightblue&#39;</span><span class="p">,</span> <span class="n">node_size</span><span class="o">=</span><span class="mi">3000</span><span class="p">,</span> <span class="n">font_size</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">font_weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">)</span>

<span class="c1"># Obter as dist√¢ncias como r√≥tulos das arestas</span>
<span class="n">edge_labels</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">get_edge_attributes</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="s1">&#39;distancia&#39;</span><span class="p">)</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw_networkx_edge_labels</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">edge_labels</span><span class="o">=</span><span class="n">edge_labels</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Capitais do Sudeste com Dist√¢ncias nas Arestas&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/51df50e449e8186fa33a21f3ad719f685051feaec6c13135a521184d852e4293.png" src="_images/51df50e449e8186fa33a21f3ad719f685051feaec6c13135a521184d852e4293.png" />
</div>
</div>
<p>Em seguida, vamos acessar uma aresta espec√≠fica, neste caso, a conex√£o entre <strong>S√£o Paulo</strong> e <strong>Belo Horizonte</strong>, para verificar a dist√¢ncia entre as duas capitais:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">distancia_sp_bh</span> <span class="o">=</span> <span class="n">G</span><span class="o">.</span><span class="n">edges</span><span class="p">[</span><span class="s1">&#39;S√£o Paulo&#39;</span><span class="p">,</span> <span class="s1">&#39;Belo Horizonte&#39;</span><span class="p">][</span><span class="s1">&#39;distancia&#39;</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Dist√¢ncia entre S√£o Paulo e Belo Horizonte: </span><span class="si">{</span><span class="n">distancia_sp_bh</span><span class="si">}</span><span class="s2"> km&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Dist√¢ncia entre S√£o Paulo e Belo Horizonte: 590 km
</pre></div>
</div>
</div>
</div>
<p>Se quisermos imprimir todas as arestas do grafo com suas respectivas dist√¢ncias, podemos percorrer todas as arestas e exibir suas informa√ß√µes:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">edge</span> <span class="ow">in</span> <span class="n">G</span><span class="o">.</span><span class="n">edges</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Aresta: </span><span class="si">{</span><span class="n">edge</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s2"> - </span><span class="si">{</span><span class="n">edge</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s2">, Dist√¢ncia: </span><span class="si">{</span><span class="n">edge</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="s1">&#39;distancia&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> km&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Aresta: S√£o Paulo - Rio de Janeiro, Dist√¢ncia: 430 km
Aresta: S√£o Paulo - Belo Horizonte, Dist√¢ncia: 590 km
Aresta: Belo Horizonte - Rio de Janeiro, Dist√¢ncia: 440 km
Aresta: Belo Horizonte - Vit√≥ria, Dist√¢ncia: 530 km
Aresta: Vit√≥ria - Rio de Janeiro, Dist√¢ncia: 520 km
</pre></div>
</div>
</div>
</div>
<p>Agora, vamos remover uma aresta do grafo, especificamente a conex√£o entre <strong>Belo Horizonte</strong> e <strong>Vit√≥ria</strong>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span><span class="o">.</span><span class="n">remove_edge</span><span class="p">(</span><span class="s1">&#39;Belo Horizonte&#39;</span><span class="p">,</span> <span class="s1">&#39;Vit√≥ria&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Em seguida, vamos plotar o grafo novamente para verificar a remo√ß√£o da conex√£o entre essas duas capitais:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pos</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">spring_layout</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">with_labels</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">node_color</span><span class="o">=</span><span class="s1">&#39;lightblue&#39;</span><span class="p">,</span> <span class="n">node_size</span><span class="o">=</span><span class="mi">3000</span><span class="p">,</span> <span class="n">font_size</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">font_weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">)</span>
<span class="n">edge_labels</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">get_edge_attributes</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="s1">&#39;distancia&#39;</span><span class="p">)</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw_networkx_edge_labels</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">edge_labels</span><span class="o">=</span><span class="n">edge_labels</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Capitais do Sudeste com Dist√¢ncias nas Arestas (Ap√≥s Remo√ß√£o)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/d7d09be101895c1d05aadb46371121607f6b839c1b72f9dc297e9113cf6f0531.png" src="_images/d7d09be101895c1d05aadb46371121607f6b839c1b72f9dc297e9113cf6f0531.png" />
</div>
</div>
<p>Agora que vimos como a fun√ß√£o <code class="docutils literal notranslate"><span class="pre">remove_edge()</span></code> funciona, podemos adicionar novamente a aresta removida, restabelecendo a conex√£o entre <strong>Belo Horizonte</strong> e <strong>Vit√≥ria</strong>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="s1">&#39;Belo Horizonte&#39;</span><span class="p">,</span> <span class="s1">&#39;Vit√≥ria&#39;</span><span class="p">,</span> <span class="n">distancia</span><span class="o">=</span><span class="mi">530</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Vamos plotar o grafo novamente para confirmar a inclus√£o dessa aresta:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pos</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">spring_layout</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">with_labels</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">node_color</span><span class="o">=</span><span class="s1">&#39;lightblue&#39;</span><span class="p">,</span> <span class="n">node_size</span><span class="o">=</span><span class="mi">3000</span><span class="p">,</span> <span class="n">font_size</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">font_weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">)</span>
<span class="n">edge_labels</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">get_edge_attributes</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="s1">&#39;distancia&#39;</span><span class="p">)</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw_networkx_edge_labels</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">edge_labels</span><span class="o">=</span><span class="n">edge_labels</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Capitais do Sudeste com Dist√¢ncias nas Arestas (Atualizado)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/a445437c2693a6d604ffb52543bb214e9090be42cbc189ec2804f3bad9ff06c2.png" src="_images/a445437c2693a6d604ffb52543bb214e9090be42cbc189ec2804f3bad9ff06c2.png" />
</div>
</div>
<p>Vamos adicionar a cidade de <strong>Curitiba</strong> ao grafo, junto com a informa√ß√£o da popula√ß√£o:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="s1">&#39;Curitiba&#39;</span><span class="p">,</span> <span class="n">populacao</span><span class="o">=</span><span class="mi">1963726</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Por fim, vamos plotar o grafo mais uma vez para incluir <strong>Curitiba</strong> entre as capitais existentes:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pos</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">spring_layout</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">with_labels</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">node_color</span><span class="o">=</span><span class="s1">&#39;lightblue&#39;</span><span class="p">,</span> <span class="n">node_size</span><span class="o">=</span><span class="mi">3000</span><span class="p">,</span> <span class="n">font_size</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">font_weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">)</span>

<span class="c1"># Exibir as dist√¢ncias das arestas j√° existentes</span>
<span class="n">edge_labels</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">get_edge_attributes</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="s1">&#39;distancia&#39;</span><span class="p">)</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw_networkx_edge_labels</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">edge_labels</span><span class="o">=</span><span class="n">edge_labels</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Capitais do Sudeste com Curitiba&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/760df774d9d1c20ed3c3a28b626ef3120a998bbd3804308b8357dd70a5220e44.png" src="_images/760df774d9d1c20ed3c3a28b626ef3120a998bbd3804308b8357dd70a5220e44.png" />
</div>
</div>
<p>Com essas opera√ß√µes, voc√™ poder√° visualizar o grafo atualizado, incluindo a cidade de <strong>Curitiba</strong> e suas conex√µes, al√©m de garantir que as dist√¢ncias entre as capitais sejam claramente exibidas.<br />
Vamos come√ßar conectando <strong>Curitiba</strong> a <strong>S√£o Paulo</strong>, adicionando uma aresta que representa a dist√¢ncia entre essas duas capitais:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="s1">&#39;Curitiba&#39;</span><span class="p">,</span> <span class="s1">&#39;S√£o Paulo&#39;</span><span class="p">,</span> <span class="n">distancia</span><span class="o">=</span><span class="mi">408</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Em seguida, vamos plotar novamente o grafo para visualizar essa nova conex√£o:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pos</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">spring_layout</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">with_labels</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">node_color</span><span class="o">=</span><span class="s1">&#39;lightblue&#39;</span><span class="p">,</span> <span class="n">node_size</span><span class="o">=</span><span class="mi">3000</span><span class="p">,</span> <span class="n">font_size</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">font_weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">)</span>
<span class="n">edge_labels</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">get_edge_attributes</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="s1">&#39;distancia&#39;</span><span class="p">)</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw_networkx_edge_labels</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">edge_labels</span><span class="o">=</span><span class="n">edge_labels</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Capitais com Dist√¢ncias nas Arestas (Incluindo Curitiba - S√£o Paulo)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/08766a56a5cb72789e954549e1cc450d2b2e6d7240babc5dc3ce8284815735f9.png" src="_images/08766a56a5cb72789e954549e1cc450d2b2e6d7240babc5dc3ce8284815735f9.png" />
</div>
</div>
<p>Agora, vamos calcular o <strong>grau</strong> de cada n√≥, que indica o n√∫mero de conex√µes (arestas) que cada cidade tem. Esse c√°lculo nos ajuda a entender a centralidade de cada capital no grafo:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Grau de todos os n√≥s (n√∫mero de conex√µes):&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">degree</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Grau de todos os n√≥s (n√∫mero de conex√µes):
{&#39;S√£o Paulo&#39;: 3, &#39;Belo Horizonte&#39;: 3, &#39;Vit√≥ria&#39;: 2, &#39;Rio de Janeiro&#39;: 3, &#39;Curitiba&#39;: 1}
</pre></div>
</div>
</div>
</div>
<p>Ap√≥s visualizar o grau de todos os n√≥s, vamos realizar uma verifica√ß√£o espec√≠fica para <strong>S√£o Paulo</strong>, consultando quais cidades est√£o diretamente conectadas a ela (n√≥s adjacentes):</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Grau de S√£o Paulo: </span><span class="si">{</span><span class="n">G</span><span class="o">.</span><span class="n">degree</span><span class="p">[</span><span class="s1">&#39;S√£o Paulo&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="n">adjacencias_sao_paulo</span> <span class="o">=</span> <span class="n">G</span><span class="o">.</span><span class="n">adj</span><span class="p">[</span><span class="s1">&#39;S√£o Paulo&#39;</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;N√≥s adjacentes a S√£o Paulo:&quot;</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="n">adjacencias_sao_paulo</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Grau de S√£o Paulo: 3
N√≥s adjacentes a S√£o Paulo: [&#39;Rio de Janeiro&#39;, &#39;Belo Horizonte&#39;, &#39;Curitiba&#39;]
</pre></div>
</div>
</div>
</div>
<p>No c√≥digo acima:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">G.degree['S√£o</span> <span class="pre">Paulo']</span></code> retorna o <strong>grau</strong> do n√≥ <strong>‚ÄòS√£o Paulo‚Äô</strong>, ou seja, o n√∫mero de conex√µes (arestas) que <strong>S√£o Paulo</strong> tem com outros n√≥s no grafo <code class="docutils literal notranslate"><span class="pre">G</span></code>.</p></li>
<li><p>O <code class="docutils literal notranslate"><span class="pre">f-string</span></code> √© utilizado para formatar a mensagem e exibir o grau de S√£o Paulo.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">G.adj['S√£o</span> <span class="pre">Paulo']</span></code> retorna os n√≥s adjacentes a <strong>S√£o Paulo</strong>, ou seja, as cidades que est√£o diretamente conectadas a ela por uma aresta.</p></li>
<li><p>O <code class="docutils literal notranslate"><span class="pre">list(adjacencias_sao_paulo)</span></code> converte o conjunto de n√≥s adjacentes em uma lista, que √© ent√£o impressa.</p></li>
</ul>
<p>Da mesma maneira, podemos verificar as cidades que est√£o diretamente conectadas a <strong>Curitiba</strong>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Grau de Curitiba: </span><span class="si">{</span><span class="n">G</span><span class="o">.</span><span class="n">degree</span><span class="p">[</span><span class="s1">&#39;Curitiba&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="n">adjacencias_curitiba</span> <span class="o">=</span> <span class="n">G</span><span class="o">.</span><span class="n">adj</span><span class="p">[</span><span class="s1">&#39;Curitiba&#39;</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;N√≥s adjacentes a Curitiba:&quot;</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="n">adjacencias_curitiba</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Grau de Curitiba: 1
N√≥s adjacentes a Curitiba: [&#39;S√£o Paulo&#39;]
</pre></div>
</div>
</div>
</div>
<p>Finalmente, para obter uma vis√£o completa de todas as conex√µes no grafo, vamos gerar um <strong>relat√≥rio de adjac√™ncias</strong> usando o m√©todo <code class="docutils literal notranslate"><span class="pre">adj</span></code>. Esse relat√≥rio mostrar√° todas as conex√µes de cada cidade no grafo:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Relat√≥rio de adjac√™ncias de todo o grafo G:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">adj</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Relat√≥rio de adjac√™ncias de todo o grafo G:
{&#39;S√£o Paulo&#39;: {&#39;Rio de Janeiro&#39;: {&#39;distancia&#39;: 430}, &#39;Belo Horizonte&#39;: {&#39;distancia&#39;: 590}, &#39;Curitiba&#39;: {&#39;distancia&#39;: 408}}, &#39;Belo Horizonte&#39;: {&#39;S√£o Paulo&#39;: {&#39;distancia&#39;: 590}, &#39;Rio de Janeiro&#39;: {&#39;distancia&#39;: 440}, &#39;Vit√≥ria&#39;: {&#39;distancia&#39;: 530}}, &#39;Vit√≥ria&#39;: {&#39;Rio de Janeiro&#39;: {&#39;distancia&#39;: 520}, &#39;Belo Horizonte&#39;: {&#39;distancia&#39;: 530}}, &#39;Rio de Janeiro&#39;: {&#39;S√£o Paulo&#39;: {&#39;distancia&#39;: 430}, &#39;Belo Horizonte&#39;: {&#39;distancia&#39;: 440}, &#39;Vit√≥ria&#39;: {&#39;distancia&#39;: 520}}, &#39;Curitiba&#39;: {&#39;S√£o Paulo&#39;: {&#39;distancia&#39;: 408}}}
</pre></div>
</div>
</div>
</div>
</section>
<section id="criando-um-digrafo-de-viagens-entre-capitais-brasileiras">
<h2>1.4 Criando um Digrafo de Viagens entre Capitais Brasileiras<a class="headerlink" href="#criando-um-digrafo-de-viagens-entre-capitais-brasileiras" title="Link to this heading">#</a></h2>
<p>Neste exerc√≠cio, vamos explorar a cria√ß√£o e manipula√ß√£o de um <strong>digrafo</strong> (grafo direcionado) utilizando o Python e a biblioteca <code class="docutils literal notranslate"><span class="pre">networkx</span></code>. O digrafo ser√° utilizado para representar rotas de viagem entre capitais brasileiras, come√ßando em <strong>Curitiba</strong> e finalizando em <strong>Vit√≥ria</strong>, passando por outras capitais. Al√©m disso, ser√° inserida uma ramifica√ß√£o que conectar√° <strong>S√£o Paulo</strong> a <strong>Belo Horizonte</strong>. Cada aresta no digrafo representar√° uma viagem direcionada entre as capitais, e as dist√¢ncias entre essas cidades ser√£o adicionadas como atributos das arestas.</p>
<p>O principal objetivo √© entender os conceitos de <strong>grafos direcionados</strong> e suas aplica√ß√µes pr√°ticas, por meio de um exemplo concreto de viagens entre cidades. Durante o exerc√≠cio, vamos trabalhar com diferentes caracter√≠sticas dos digrafos, como conex√µes direcionadas, graus de entrada e sa√≠da, al√©m de sucessores e antecessores de cada n√≥.</p>
<section id="estrutura-do-exercicio">
<h3>Estrutura do Exerc√≠cio:<a class="headerlink" href="#estrutura-do-exercicio" title="Link to this heading">#</a></h3>
<ol class="arabic simple">
<li><p><strong>N√≥s e Arestas</strong>: Come√ßaremos criando os n√≥s, que representar√£o as capitais, e as arestas direcionadas, que representar√£o as viagens entre elas. A cada aresta, ser√° atribu√≠do um valor de dist√¢ncia, simulando a dist√¢ncia real entre as cidades.</p></li>
<li><p><strong>Adjac√™ncias e Conex√µes</strong>: Exploraremos como verificar as conex√µes diretas entre os n√≥s. Isso nos permitir√° identificar, por exemplo, quais cidades est√£o diretamente conectadas a outras e em que dire√ß√£o ocorre essa conex√£o.</p></li>
<li><p><strong>Graus</strong>: Vamos calcular o <strong>grau de entrada</strong> e o <strong>grau de sa√≠da</strong> de cada n√≥. O grau de entrada indica quantas cidades fazem uma viagem para essa capital, enquanto o grau de sa√≠da indica para quantas cidades essa capital faz viagens. Essa an√°lise √© importante para entender o papel de cada cidade dentro da rede de viagens.</p></li>
<li><p><strong>Sucessores e Antecessores</strong>: Analisaremos os <strong>sucessores</strong> (as cidades para as quais uma capital faz viagens) e os <strong>antecessores</strong> (as cidades que fazem viagens para uma capital), ajudando a entender a din√¢mica de entrada e sa√≠da de cada capital na rede.</p></li>
</ol>
<p>Primeiro, vamos criar o nosso digrafo. Um digrafo √© um grafo onde as arestas t√™m uma dire√ß√£o, representando uma viagem de uma cidade para outra.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Criando um digrafo (grafo direcionado)</span>
<span class="n">D_viagem</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">DiGraph</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>No primeiro exerc√≠cio, utilizamos a classe <strong><code class="docutils literal notranslate"><span class="pre">nx.Graph()</span></code></strong> para criar um grafo <strong>n√£o direcionado</strong>, no qual as arestas (conex√µes) entre os n√≥s n√£o possuem dire√ß√£o espec√≠fica. Ou seja, uma conex√£o entre dois n√≥s √© bidirecional, representando uma rela√ß√£o sim√©trica. Neste exerc√≠cio, estamos usando <strong><code class="docutils literal notranslate"><span class="pre">nx.DiGraph()</span></code></strong>, que cria um <strong>grafo direcionado</strong> (ou digrafo). Nesse tipo de grafo, as arestas possuem dire√ß√£o, o que significa que a rela√ß√£o entre os n√≥s √© assim√©trica.</p>
<p>Agora, vamos adicionar os n√≥s, que s√£o as capitais envolvidas na nossa viagem, usando o m√©todo <code class="docutils literal notranslate"><span class="pre">add_node()</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Adicionando os n√≥s (capitais)</span>
<span class="n">D_viagem</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="s1">&#39;Curitiba&#39;</span><span class="p">)</span>
<span class="n">D_viagem</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="s1">&#39;S√£o Paulo&#39;</span><span class="p">)</span>
<span class="n">D_viagem</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="s1">&#39;Rio de Janeiro&#39;</span><span class="p">)</span>
<span class="n">D_viagem</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="s1">&#39;Belo Horizonte&#39;</span><span class="p">)</span>
<span class="n">D_viagem</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="s1">&#39;Vit√≥ria&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Vamos visualizar os n√≥s do grafo antes de adicionar as conex√µes (arestas). Isso nos dar√° uma ideia de como as capitais est√£o dispostas inicialmente.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Plotando os n√≥s (capitais) sem as arestas</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
<span class="c1"># Usando um layout para posicionar os n√≥s</span>
<span class="n">pos</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">spring_layout</span><span class="p">(</span><span class="n">D_viagem</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="c1"># Desenhando apenas os n√≥s</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw_networkx_nodes</span><span class="p">(</span><span class="n">D_viagem</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">node_color</span><span class="o">=</span><span class="s1">&#39;lightblue&#39;</span><span class="p">,</span> <span class="n">node_size</span><span class="o">=</span><span class="mi">800</span><span class="p">)</span>
<span class="c1"># Desenhando os r√≥tulos (capitais)</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw_networkx_labels</span><span class="p">(</span><span class="n">D_viagem</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">font_size</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span> <span class="n">font_weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">)</span>
<span class="c1"># Exibindo o gr√°fico</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Capitais (Curitiba, S√£o Paulo, Rio de Janeiro, Belo Horizonte, Vit√≥ria)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/f12dbf983ce7778660f23d211bce45263238e57baaafd455c3707d6f279dd4d7.png" src="_images/f12dbf983ce7778660f23d211bce45263238e57baaafd455c3707d6f279dd4d7.png" />
</div>
</div>
<p>Agora, vamos adicionar as arestas direcionadas que representam as viagens de uma capital para outra, junto com as dist√¢ncias entre elas.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Adicionando as arestas direcionadas (viagem de Curitiba at√© Vit√≥ria)</span>
<span class="n">D_viagem</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="s1">&#39;Curitiba&#39;</span><span class="p">,</span> <span class="s1">&#39;S√£o Paulo&#39;</span><span class="p">,</span> <span class="n">distancia</span><span class="o">=</span><span class="mi">408</span><span class="p">)</span>  <span class="c1"># Curitiba -&gt; S√£o Paulo</span>
<span class="n">D_viagem</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="s1">&#39;S√£o Paulo&#39;</span><span class="p">,</span> <span class="s1">&#39;Rio de Janeiro&#39;</span><span class="p">,</span> <span class="n">distancia</span><span class="o">=</span><span class="mi">429</span><span class="p">)</span>  <span class="c1"># S√£o Paulo -&gt; Rio de Janeiro</span>
<span class="n">D_viagem</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="s1">&#39;Rio de Janeiro&#39;</span><span class="p">,</span> <span class="s1">&#39;Vit√≥ria&#39;</span><span class="p">,</span> <span class="n">distancia</span><span class="o">=</span><span class="mi">521</span><span class="p">)</span>  <span class="c1"># Rio de Janeiro -&gt; Vit√≥ria</span>
</pre></div>
</div>
</div>
</div>
<p>No c√≥digo acima, o comando <code class="docutils literal notranslate"><span class="pre">D_viagem.add_edge('Curitiba',</span> <span class="pre">'S√£o</span> <span class="pre">Paulo',</span> <span class="pre">distancia=408)</span></code> adiciona uma <strong>aresta direcionada</strong> ao digrafo <code class="docutils literal notranslate"><span class="pre">D_viagem</span></code>, representando uma viagem de <strong>Curitiba</strong> para <strong>S√£o Paulo</strong>. A dire√ß√£o da aresta indica que a conex√£o √© unidirecional, ou seja, de <strong>Curitiba</strong> para <strong>S√£o Paulo</strong>. Al√©m disso, um atributo adicional <strong>‚Äòdistancia‚Äô</strong> √© atribu√≠do √† aresta com o valor de <strong>408</strong>, que pode representar a dist√¢ncia entre as duas capitais em quil√¥metros.</p>
<p>Vamos visualizar o grafo novamente, agora com as arestas que representam as viagens entre as capitais e as dist√¢ncias entre elas.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Plotando os n√≥s e arestas</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
<span class="c1"># Usando um layout para organizar a posi√ß√£o dos n√≥s</span>
<span class="n">pos</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">spring_layout</span><span class="p">(</span><span class="n">D_viagem</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="c1"># Desenhando os n√≥s</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw_networkx_nodes</span><span class="p">(</span><span class="n">D_viagem</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">node_color</span><span class="o">=</span><span class="s1">&#39;lightblue&#39;</span><span class="p">,</span> <span class="n">node_size</span><span class="o">=</span><span class="mi">800</span><span class="p">)</span>
<span class="c1"># Desenhando as arestas direcionadas com setas</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw_networkx_edges</span><span class="p">(</span><span class="n">D_viagem</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">edge_color</span><span class="o">=</span><span class="s1">&#39;gray&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">arrows</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">arrowsize</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="c1"># Desenhando os r√≥tulos (capitais)</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw_networkx_labels</span><span class="p">(</span><span class="n">D_viagem</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">font_size</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span> <span class="n">font_weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">)</span>
<span class="c1"># Adicionando r√≥tulos de dist√¢ncias nas arestas</span>
<span class="n">edge_labels</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">get_edge_attributes</span><span class="p">(</span><span class="n">D_viagem</span><span class="p">,</span> <span class="s1">&#39;distancia&#39;</span><span class="p">)</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw_networkx_edge_labels</span><span class="p">(</span><span class="n">D_viagem</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">edge_labels</span><span class="o">=</span><span class="n">edge_labels</span><span class="p">)</span>
<span class="c1"># Exibindo o gr√°fico</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Viagem de Curitiba para Vit√≥ria (Arestas Direcionadas)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/bc8fc2e0cbc32dcf564a94b6a2820d123bae2fceb421dba8cf1e5f0ae38666bd.png" src="_images/bc8fc2e0cbc32dcf564a94b6a2820d123bae2fceb421dba8cf1e5f0ae38666bd.png" />
</div>
</div>
<p>Agora, vamos adicionar uma ramifica√ß√£o na rota, de S√£o Paulo para Belo Horizonte, conectando tamb√©m Belo Horizonte a Vit√≥ria.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Adicionando a ramifica√ß√£o em S√£o Paulo para Belo Horizonte</span>
<span class="n">D_viagem</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="s1">&#39;S√£o Paulo&#39;</span><span class="p">,</span> <span class="s1">&#39;Belo Horizonte&#39;</span><span class="p">,</span> <span class="n">distancia</span><span class="o">=</span><span class="mi">586</span><span class="p">)</span>  <span class="c1"># S√£o Paulo -&gt; Belo Horizonte</span>
<span class="n">D_viagem</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="s1">&#39;Belo Horizonte&#39;</span><span class="p">,</span> <span class="s1">&#39;Vit√≥ria&#39;</span><span class="p">,</span> <span class="n">distancia</span><span class="o">=</span><span class="mi">524</span><span class="p">)</span>  <span class="c1"># Belo Horizonte -&gt; Vit√≥ria</span>
</pre></div>
</div>
</div>
</div>
<p>Vamos visualizar o grafo completo, agora com a ramifica√ß√£o de S√£o Paulo para Belo Horizonte e as dist√¢ncias nas novas arestas.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Plotando os n√≥s e arestas</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
<span class="n">pos</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">spring_layout</span><span class="p">(</span><span class="n">D_viagem</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw_networkx_nodes</span><span class="p">(</span><span class="n">D_viagem</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">node_color</span><span class="o">=</span><span class="s1">&#39;lightblue&#39;</span><span class="p">,</span> <span class="n">node_size</span><span class="o">=</span><span class="mi">800</span><span class="p">)</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw_networkx_edges</span><span class="p">(</span><span class="n">D_viagem</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">edge_color</span><span class="o">=</span><span class="s1">&#39;gray&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">arrows</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">arrowsize</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw_networkx_labels</span><span class="p">(</span><span class="n">D_viagem</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">font_size</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span> <span class="n">font_weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">)</span>
<span class="n">edge_labels</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">get_edge_attributes</span><span class="p">(</span><span class="n">D_viagem</span><span class="p">,</span> <span class="s1">&#39;distancia&#39;</span><span class="p">)</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw_networkx_edge_labels</span><span class="p">(</span><span class="n">D_viagem</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">edge_labels</span><span class="o">=</span><span class="n">edge_labels</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Viagem de Curitiba para Vit√≥ria com Ramifica√ß√£o para Belo Horizonte (Arestas Direcionadas)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/19aa4fcc73dbadbe1ded1feeb5bbb34b20bfbefe021056f6271a9c0dd5091159.png" src="_images/19aa4fcc73dbadbe1ded1feeb5bbb34b20bfbefe021056f6271a9c0dd5091159.png" />
</div>
</div>
<p>Vamos come√ßar exibindo todos os n√≥s do grafo para garantir que todos foram adicionados corretamente.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Verificar os n√≥s do grafo</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;N√≥s no grafo:&quot;</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="n">D_viagem</span><span class="o">.</span><span class="n">nodes</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>N√≥s no grafo: [&#39;Curitiba&#39;, &#39;S√£o Paulo&#39;, &#39;Rio de Janeiro&#39;, &#39;Belo Horizonte&#39;, &#39;Vit√≥ria&#39;]
</pre></div>
</div>
</div>
</div>
<p>O comando <code class="docutils literal notranslate"><span class="pre">print(&quot;N√≥s</span> <span class="pre">no</span> <span class="pre">grafo:&quot;,</span> <span class="pre">list(D_viagem.nodes))</span></code> exibe todos os n√≥s presentes no digrafo <code class="docutils literal notranslate"><span class="pre">D_viagem</span></code>. A fun√ß√£o <code class="docutils literal notranslate"><span class="pre">D_viagem.nodes</span></code> retorna uma vis√£o geral dos n√≥s, e o uso de <code class="docutils literal notranslate"><span class="pre">list()</span></code> converte essa vis√£o em uma lista para facilitar a leitura. Essa instru√ß√£o imprime todos os n√≥s, ou seja, todas as capitais que foram adicionadas ao grafo.</p>
<p>Depois de listar os n√≥s, verifique as arestas do grafo e os atributos associados.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Verificar as arestas do grafo</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Arestas no grafo:&quot;</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="n">D_viagem</span><span class="o">.</span><span class="n">edges</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="kc">True</span><span class="p">)))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Arestas no grafo: [(&#39;Curitiba&#39;, &#39;S√£o Paulo&#39;, {&#39;distancia&#39;: 408}), (&#39;S√£o Paulo&#39;, &#39;Rio de Janeiro&#39;, {&#39;distancia&#39;: 429}), (&#39;S√£o Paulo&#39;, &#39;Belo Horizonte&#39;, {&#39;distancia&#39;: 586}), (&#39;Rio de Janeiro&#39;, &#39;Vit√≥ria&#39;, {&#39;distancia&#39;: 521}), (&#39;Belo Horizonte&#39;, &#39;Vit√≥ria&#39;, {&#39;distancia&#39;: 524})]
</pre></div>
</div>
</div>
</div>
<p>No c√≥digo acima, o comando <code class="docutils literal notranslate"><span class="pre">print(&quot;Arestas</span> <span class="pre">no</span> <span class="pre">grafo:&quot;,</span> <span class="pre">list(D_viagem.edges(data=True)))</span></code> exibe todas as arestas presentes no digrafo <code class="docutils literal notranslate"><span class="pre">D_viagem</span></code>, juntamente com seus atributos. A fun√ß√£o <code class="docutils literal notranslate"><span class="pre">D_viagem.edges(data=True)</span></code> retorna uma vis√£o das arestas, incluindo os dados associados a elas (como a <strong>dist√¢ncia</strong>). O uso de <code class="docutils literal notranslate"><span class="pre">list()</span></code> converte essa vis√£o em uma lista, facilitando a leitura e permitindo visualizar tanto as conex√µes entre os n√≥s quanto os atributos de cada aresta.</p>
<p>Agora vamos revisar as arestas do digrafo para garantir que todas as dist√¢ncias e demais atributos foram adicionados corretamente.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Exibir todas as arestas e seus atributos</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Arestas no digrafo com atributos:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">D_viagem</span><span class="o">.</span><span class="n">edges</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Arestas no digrafo com atributos:
[(&#39;Curitiba&#39;, &#39;S√£o Paulo&#39;, {&#39;distancia&#39;: 408}), (&#39;S√£o Paulo&#39;, &#39;Rio de Janeiro&#39;, {&#39;distancia&#39;: 429}), (&#39;S√£o Paulo&#39;, &#39;Belo Horizonte&#39;, {&#39;distancia&#39;: 586}), (&#39;Rio de Janeiro&#39;, &#39;Vit√≥ria&#39;, {&#39;distancia&#39;: 521}), (&#39;Belo Horizonte&#39;, &#39;Vit√≥ria&#39;, {&#39;distancia&#39;: 524})]
</pre></div>
</div>
</div>
</div>
<p>O c√≥digo <code class="docutils literal notranslate"><span class="pre">D_viagem.edges(data=True)</span></code> retorna todas as arestas presentes no digrafo <strong><code class="docutils literal notranslate"><span class="pre">D_viagem</span></code></strong>, juntamente com os atributos associados a cada aresta. O par√¢metro <strong><code class="docutils literal notranslate"><span class="pre">data=True</span></code></strong> indica que, al√©m de exibir os n√≥s conectados pelas arestas, ele tamb√©m deve exibir os dados (ou atributos) armazenados nessas conex√µes, como <strong>dist√¢ncia</strong> ou outros valores.</p>
<p>Agora que j√° visualizamos os n√≥s e arestas, vamos verificar as adjac√™ncias de cada n√≥ para entender como eles est√£o conectados entre si.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Verificar as adjac√™ncias</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Adjac√™ncias de cada n√≥:&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">D_viagem</span><span class="o">.</span><span class="n">nodes</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">node</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="nb">list</span><span class="p">(</span><span class="n">D_viagem</span><span class="o">.</span><span class="n">adj</span><span class="p">[</span><span class="n">node</span><span class="p">])</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Adjac√™ncias de cada n√≥:
Curitiba: [&#39;S√£o Paulo&#39;]
S√£o Paulo: [&#39;Rio de Janeiro&#39;, &#39;Belo Horizonte&#39;]
Rio de Janeiro: [&#39;Vit√≥ria&#39;]
Belo Horizonte: [&#39;Vit√≥ria&#39;]
Vit√≥ria: []
</pre></div>
</div>
</div>
</div>
<p>O c√≥digo percorre todos os n√≥s do digrafo <strong><code class="docutils literal notranslate"><span class="pre">D_viagem</span></code></strong> e exibe as <strong>adjac√™ncias</strong> de cada n√≥, ou seja, os n√≥s aos quais cada cidade (n√≥) est√° conectada diretamente.</p>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">D_viagem.adj[node]</span></code></strong>: O atributo <strong><code class="docutils literal notranslate"><span class="pre">adj</span></code></strong> retorna os n√≥s adjacentes ao n√≥ atual.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">list(D_viagem.adj[node])</span></code></strong>: Converte a lista de n√≥s adjacentes em uma lista comum.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">print(f&quot;{node}:</span> <span class="pre">{list(D_viagem.adj[node])}&quot;)</span></code></strong>: Exibe o n√≥ atual e seus n√≥s adjacentes. O <code class="docutils literal notranslate"><span class="pre">f-string</span></code> √© usado para formatar a sa√≠da.</p></li>
</ul>
<p>Vamos exibir as adjac√™ncias espec√≠ficas do n√≥ <strong>S√£o Paulo</strong> para detalhar melhor suas conex√µes diretas com outras capitais.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Exibir as adjac√™ncias de S√£o Paulo</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Adjac√™ncias de S√£o Paulo:&quot;</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="n">D_viagem</span><span class="o">.</span><span class="n">adj</span><span class="p">[</span><span class="s1">&#39;S√£o Paulo&#39;</span><span class="p">]))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Adjac√™ncias de S√£o Paulo: [&#39;Rio de Janeiro&#39;, &#39;Belo Horizonte&#39;]
</pre></div>
</div>
</div>
</div>
<p>Este c√≥digo lista todos os n√≥s (capitais) que est√£o diretamente conectados a <strong>S√£o Paulo</strong> no digrafo, mostrando as cidades para as quais <strong>S√£o Paulo</strong> possui uma conex√£o direcionada.</p>
<p>Em seguida, calcule o grau total de cada n√≥ (quantidade de conex√µes), sem distinguir entre entrada e sa√≠da.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Verificar o grau de cada n√≥</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Grau dos n√≥s (n√∫mero de conex√µes):&quot;</span><span class="p">,</span> <span class="nb">dict</span><span class="p">(</span><span class="n">D_viagem</span><span class="o">.</span><span class="n">degree</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Grau dos n√≥s (n√∫mero de conex√µes): {&#39;Curitiba&#39;: 1, &#39;S√£o Paulo&#39;: 3, &#39;Rio de Janeiro&#39;: 2, &#39;Belo Horizonte&#39;: 2, &#39;Vit√≥ria&#39;: 2}
</pre></div>
</div>
</div>
</div>
<p><strong><code class="docutils literal notranslate"><span class="pre">D_viagem.degree</span></code></strong>: Retorna o grau de cada n√≥ no digrafo <strong><code class="docutils literal notranslate"><span class="pre">D_viagem</span></code></strong>, que representa o n√∫mero de conex√µes associadas a cada n√≥.<br />
<strong><code class="docutils literal notranslate"><span class="pre">dict(D_viagem.degree)</span></code></strong>: Converte o resultado em um dicion√°rio, onde cada chave √© o n√≥ (cidade) e o valor associado √© o seu grau, ou seja, o n√∫mero de conex√µes desse n√≥.<br />
<strong><code class="docutils literal notranslate"><span class="pre">print</span></code></strong>: Exibe o dicion√°rio resultante, mostrando o nome de cada n√≥ e o n√∫mero de conex√µes (arestas) que ele possui.</p>
<p>Ap√≥s verificar o grau total, separe as conex√µes em graus de entrada e sa√≠da.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Grau total dos n√≥s</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Grau total dos n√≥s:&quot;</span><span class="p">,</span> <span class="nb">dict</span><span class="p">(</span><span class="n">D_viagem</span><span class="o">.</span><span class="n">degree</span><span class="p">))</span>

<span class="c1"># Grau de sa√≠da dos n√≥s</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Grau de sa√≠da dos n√≥s:&quot;</span><span class="p">,</span> <span class="nb">dict</span><span class="p">(</span><span class="n">D_viagem</span><span class="o">.</span><span class="n">out_degree</span><span class="p">))</span>

<span class="c1"># Grau de entrada dos n√≥s</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Grau de entrada dos n√≥s:&quot;</span><span class="p">,</span> <span class="nb">dict</span><span class="p">(</span><span class="n">D_viagem</span><span class="o">.</span><span class="n">in_degree</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Grau total dos n√≥s: {&#39;Curitiba&#39;: 1, &#39;S√£o Paulo&#39;: 3, &#39;Rio de Janeiro&#39;: 2, &#39;Belo Horizonte&#39;: 2, &#39;Vit√≥ria&#39;: 2}
Grau de sa√≠da dos n√≥s: {&#39;Curitiba&#39;: 1, &#39;S√£o Paulo&#39;: 2, &#39;Rio de Janeiro&#39;: 1, &#39;Belo Horizonte&#39;: 1, &#39;Vit√≥ria&#39;: 0}
Grau de entrada dos n√≥s: {&#39;Curitiba&#39;: 0, &#39;S√£o Paulo&#39;: 1, &#39;Rio de Janeiro&#39;: 1, &#39;Belo Horizonte&#39;: 1, &#39;Vit√≥ria&#39;: 2}
</pre></div>
</div>
</div>
</div>
<p>Esse c√≥digo examina tr√™s tipos de graus associados aos n√≥s em um <strong>digrafo</strong>: o grau total, o grau de sa√≠da e o grau de entrada.</p>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">D_viagem.degree</span></code></strong>: Retorna o <strong>grau total</strong> de cada n√≥.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">D_viagem.out_degree</span></code></strong>: Retorna o <strong>grau de sa√≠da</strong> de cada n√≥, ou seja, quantas conex√µes o n√≥ faz para outros n√≥s.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">D_viagem.in_degree</span></code></strong>: Retorna o <strong>grau de entrada</strong> de cada n√≥, representando o n√∫mero de arestas que entram no n√≥.</p></li>
</ul>
<p>Os resultados mostram como cada capital se comporta em termos de conex√µes dentro do digrafo, com <strong>S√£o Paulo</strong> sendo um n√≥ mais central (com um grau total de 3), enquanto <strong>Vit√≥ria</strong> √© um n√≥ de destino final, recebendo duas conex√µes, mas sem emitir nenhuma.</p>
<p>Agora seu markdown est√° formatado corretamente para uso no Jupyter Book, com todas as c√©lulas de c√≥digo adequadamente indicadas.</p>
<p>Vamos analisar os <strong>sucessores</strong> (os n√≥s para os quais uma determinada capital faz conex√µes) e os <strong>antecessores</strong> (os n√≥s que se conectam a essa capital) para cada cidade no nosso digrafo. Come√ßaremos pela cidade de <strong>Curitiba</strong>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Sucessores e antecessores de Curitiba</span>
<span class="n">sucessores_curitiba</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">D_viagem</span><span class="o">.</span><span class="n">successors</span><span class="p">(</span><span class="s1">&#39;Curitiba&#39;</span><span class="p">))</span>
<span class="n">antecessores_curitiba</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">D_viagem</span><span class="o">.</span><span class="n">predecessors</span><span class="p">(</span><span class="s1">&#39;Curitiba&#39;</span><span class="p">))</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Sucessores de Curitiba: </span><span class="si">{</span><span class="n">sucessores_curitiba</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Antecessores de Curitiba: </span><span class="si">{</span><span class="n">antecessores_curitiba</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Sucessores de Curitiba: [&#39;S√£o Paulo&#39;]
Antecessores de Curitiba: []
</pre></div>
</div>
</div>
</div>
<p>Agora, verificamos os sucessores e antecessores de S√£o Paulo.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Sucessores e antecessores de S√£o Paulo</span>
<span class="n">sucessores_sao_paulo</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">D_viagem</span><span class="o">.</span><span class="n">successors</span><span class="p">(</span><span class="s1">&#39;S√£o Paulo&#39;</span><span class="p">))</span>
<span class="n">antecessores_sao_paulo</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">D_viagem</span><span class="o">.</span><span class="n">predecessors</span><span class="p">(</span><span class="s1">&#39;S√£o Paulo&#39;</span><span class="p">))</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Sucessores de S√£o Paulo: </span><span class="si">{</span><span class="n">sucessores_sao_paulo</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Antecessores de S√£o Paulo: </span><span class="si">{</span><span class="n">antecessores_sao_paulo</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Sucessores de S√£o Paulo: [&#39;Rio de Janeiro&#39;, &#39;Belo Horizonte&#39;]
Antecessores de S√£o Paulo: [&#39;Curitiba&#39;]
</pre></div>
</div>
</div>
</div>
<p>Aqui, analisamos os sucessores e antecessores do Rio de Janeiro.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Sucessores e antecessores de Rio de Janeiro</span>
<span class="n">sucessores_rio</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">D_viagem</span><span class="o">.</span><span class="n">successors</span><span class="p">(</span><span class="s1">&#39;Rio de Janeiro&#39;</span><span class="p">))</span>
<span class="n">antecessores_rio</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">D_viagem</span><span class="o">.</span><span class="n">predecessors</span><span class="p">(</span><span class="s1">&#39;Rio de Janeiro&#39;</span><span class="p">))</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Sucessores de Rio de Janeiro: </span><span class="si">{</span><span class="n">sucessores_rio</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Antecessores de Rio de Janeiro: </span><span class="si">{</span><span class="n">antecessores_rio</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Sucessores de Rio de Janeiro: [&#39;Vit√≥ria&#39;]
Antecessores de Rio de Janeiro: [&#39;S√£o Paulo&#39;]
</pre></div>
</div>
</div>
</div>
<p>Agora, fazemos a an√°lise dos sucessores e antecessores de Belo Horizonte.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Sucessores e antecessores de Belo Horizonte</span>
<span class="n">sucessores_bh</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">D_viagem</span><span class="o">.</span><span class="n">successors</span><span class="p">(</span><span class="s1">&#39;Belo Horizonte&#39;</span><span class="p">))</span>
<span class="n">antecessores_bh</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">D_viagem</span><span class="o">.</span><span class="n">predecessors</span><span class="p">(</span><span class="s1">&#39;Belo Horizonte&#39;</span><span class="p">))</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Sucessores de Belo Horizonte: </span><span class="si">{</span><span class="n">sucessores_bh</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Antecessores de Belo Horizonte: </span><span class="si">{</span><span class="n">antecessores_bh</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Sucessores de Belo Horizonte: [&#39;Vit√≥ria&#39;]
Antecessores de Belo Horizonte: [&#39;S√£o Paulo&#39;]
</pre></div>
</div>
</div>
</div>
<p>Por fim, verificamos os sucessores e antecessores de Vit√≥ria.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Sucessores e antecessores de Vit√≥ria</span>
<span class="n">sucessores_vitoria</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">D_viagem</span><span class="o">.</span><span class="n">successors</span><span class="p">(</span><span class="s1">&#39;Vit√≥ria&#39;</span><span class="p">))</span>
<span class="n">antecessores_vitoria</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">D_viagem</span><span class="o">.</span><span class="n">predecessors</span><span class="p">(</span><span class="s1">&#39;Vit√≥ria&#39;</span><span class="p">))</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Sucessores de Vit√≥ria: </span><span class="si">{</span><span class="n">sucessores_vitoria</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Antecessores de Vit√≥ria: </span><span class="si">{</span><span class="n">antecessores_vitoria</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Sucessores de Vit√≥ria: []
Antecessores de Vit√≥ria: [&#39;Rio de Janeiro&#39;, &#39;Belo Horizonte&#39;]
</pre></div>
</div>
</div>
</div>
</section>
<section id="encontrando-o-caminho-mais-curto-no-digrafo">
<h3><strong>1.4.1 - Encontrando o Caminho Mais Curto no Digrafo</strong><a class="headerlink" href="#encontrando-o-caminho-mais-curto-no-digrafo" title="Link to this heading">#</a></h3>
<p>Nesta etapa do exerc√≠cio, voc√™ aprender√° a utilizar a fun√ß√£o <code class="docutils literal notranslate"><span class="pre">shortest_path</span></code> da biblioteca <code class="docutils literal notranslate"><span class="pre">networkx</span></code> para encontrar o caminho mais curto entre dois n√≥s em um digrafo, considerando o peso das arestas, que neste caso representa as dist√¢ncias entre as capitais. Aplicaremos essa fun√ß√£o ao digrafo que criamos, identificando a rota mais curta entre <strong>Curitiba</strong> e <strong>Vit√≥ria</strong>. Al√©m disso, vamos visualizar esse caminho diretamente no grafo, destacando-o para facilitar a interpreta√ß√£o.</p>
<p>Primeiramente, vamos calcular o caminho mais curto entre Curitiba e Vit√≥ria, usando as dist√¢ncias nas arestas como crit√©rio de peso.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Encontrando o caminho mais curto de Curitiba at√© Vit√≥ria, baseado na dist√¢ncia</span>
<span class="n">caminho_mais_curto</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">shortest_path</span><span class="p">(</span><span class="n">D_viagem</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="s1">&#39;Curitiba&#39;</span><span class="p">,</span> <span class="n">target</span><span class="o">=</span><span class="s1">&#39;Vit√≥ria&#39;</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;distancia&#39;</span><span class="p">)</span>

<span class="c1"># Exibindo o caminho mais curto</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Caminho mais curto de Curitiba at√© Vit√≥ria: </span><span class="si">{</span><span class="n">caminho_mais_curto</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Caminho mais curto de Curitiba at√© Vit√≥ria: [&#39;Curitiba&#39;, &#39;S√£o Paulo&#39;, &#39;Rio de Janeiro&#39;, &#39;Vit√≥ria&#39;]
</pre></div>
</div>
</div>
</div>
<p>No c√≥digo acima:</p>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">nx.shortest_path()</span></code></strong>: Esta √© uma fun√ß√£o da biblioteca <code class="docutils literal notranslate"><span class="pre">networkx</span></code> que encontra o <strong>caminho mais curto</strong> entre dois n√≥s em um grafo.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">D_viagem</span></code></strong>: O <strong>digrafo</strong> representando as capitais brasileiras e as rotas entre elas.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">source='Curitiba'</span></code></strong>: Especifica o n√≥ de origem, <strong>Curitiba</strong>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">target='Vit√≥ria'</span></code></strong>: Indica o n√≥ de destino, <strong>Vit√≥ria</strong>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">weight='distancia'</span></code></strong>: Define que o crit√©rio para o caminho mais curto ser√° a <strong>dist√¢ncia</strong> entre as capitais.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">caminho_mais_curto</span></code></strong>: Armazena o resultado da fun√ß√£o, que √© o caminho mais curto entre <strong>Curitiba</strong> e <strong>Vit√≥ria</strong> levando em considera√ß√£o as dist√¢ncias.</p></li>
</ul>
<p>O resultado mostra o caminho mais curto de <strong>Curitiba</strong> at√© <strong>Vit√≥ria</strong>, considerando as dist√¢ncias entre as capitais no grafo direcionado:</p>
<p><strong>Caminho mais curto de Curitiba at√© Vit√≥ria</strong>:
<code class="docutils literal notranslate"><span class="pre">['Curitiba',</span> <span class="pre">'S√£o</span> <span class="pre">Paulo',</span> <span class="pre">'Rio</span> <span class="pre">de</span> <span class="pre">Janeiro',</span> <span class="pre">'Vit√≥ria']</span></code></p>
<p>Este caminho minimiza a soma das dist√¢ncias entre essas cidades.</p>
<p>Ap√≥s determinar o caminho mais curto, vamos calcular a dist√¢ncia total percorrida. Utilizaremos a fun√ß√£o <code class="docutils literal notranslate"><span class="pre">shortest_path_length</span></code> para calcular o comprimento total do caminho, considerando o mesmo peso (dist√¢ncia).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Calculando o comprimento (dist√¢ncia total) do caminho mais curto</span>
<span class="n">distancia_caminho_mais_curto</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">shortest_path_length</span><span class="p">(</span><span class="n">D_viagem</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="s1">&#39;Curitiba&#39;</span><span class="p">,</span> <span class="n">target</span><span class="o">=</span><span class="s1">&#39;Vit√≥ria&#39;</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;distancia&#39;</span><span class="p">)</span>

<span class="c1"># Exibindo a dist√¢ncia total</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Dist√¢ncia total do caminho mais curto de Curitiba at√© Vit√≥ria: </span><span class="si">{</span><span class="n">distancia_caminho_mais_curto</span><span class="si">}</span><span class="s2"> km&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Dist√¢ncia total do caminho mais curto de Curitiba at√© Vit√≥ria: 1358 km
</pre></div>
</div>
</div>
</div>
<p>Este c√≥digo calcula a <strong>dist√¢ncia total</strong> do caminho mais curto encontrado entre <strong>Curitiba</strong> e <strong>Vit√≥ria</strong>, levando em considera√ß√£o o peso das arestas (dist√¢ncia em quil√¥metros).</p>
<p>Agora que temos o caminho e a dist√¢ncia total, vamos visualizar esse caminho no grafo. Para isso, destacaremos as arestas que fazem parte do caminho mais curto, colorindo-as de uma cor diferente das outras.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Plotando o grafo e destacando o caminho mais curto</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
<span class="c1"># Usando um layout para organizar a posi√ß√£o dos n√≥s</span>
<span class="n">pos</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">spring_layout</span><span class="p">(</span><span class="n">D_viagem</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="c1"># Desenhando todos os n√≥s</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw_networkx_nodes</span><span class="p">(</span><span class="n">D_viagem</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">node_color</span><span class="o">=</span><span class="s1">&#39;lightblue&#39;</span><span class="p">,</span> <span class="n">node_size</span><span class="o">=</span><span class="mi">800</span><span class="p">)</span>
<span class="c1"># Desenhando todas as arestas</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw_networkx_edges</span><span class="p">(</span><span class="n">D_viagem</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">edgelist</span><span class="o">=</span><span class="n">D_viagem</span><span class="o">.</span><span class="n">edges</span><span class="p">(),</span> <span class="n">edge_color</span><span class="o">=</span><span class="s1">&#39;gray&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="c1"># Destacando o caminho mais curto (arestas)</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw_networkx_edges</span><span class="p">(</span><span class="n">D_viagem</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">edgelist</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">caminho_mais_curto</span><span class="p">,</span> <span class="n">caminho_mais_curto</span><span class="p">[</span><span class="mi">1</span><span class="p">:])),</span>
                       <span class="n">edge_color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="c1"># Desenhando os r√≥tulos (nomes das capitais)</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw_networkx_labels</span><span class="p">(</span><span class="n">D_viagem</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">font_size</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span> <span class="n">font_weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">)</span>
<span class="c1"># Adicionando r√≥tulos de dist√¢ncias nas arestas</span>
<span class="n">edge_labels</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">get_edge_attributes</span><span class="p">(</span><span class="n">D_viagem</span><span class="p">,</span> <span class="s1">&#39;distancia&#39;</span><span class="p">)</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw_networkx_edge_labels</span><span class="p">(</span><span class="n">D_viagem</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">edge_labels</span><span class="o">=</span><span class="n">edge_labels</span><span class="p">)</span>
<span class="c1"># Exibindo o gr√°fico</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Caminho Mais Curto de Curitiba at√© Vit√≥ria (Baseado na Dist√¢ncia)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/1ffdd98594afcf1db8c894dfd3eff55509bd3778731f9c585d477fb1ad18a7fb.png" src="_images/1ffdd98594afcf1db8c894dfd3eff55509bd3778731f9c585d477fb1ad18a7fb.png" />
</div>
</div>
</section>
<section id="calculando-o-caminho-com-menor-soma-de-populacoes">
<h3><strong>1.4.2 Calculando o Caminho com Menor Soma de Popula√ß√µes</strong><a class="headerlink" href="#calculando-o-caminho-com-menor-soma-de-populacoes" title="Link to this heading">#</a></h3>
<p>O objetivo desta parte do exerc√≠cio √© calcular o caminho que minimize a soma das popula√ß√µes ao longo do trajeto entre <strong>Curitiba</strong> e <strong>Vit√≥ria</strong>. Para isso, primeiro vamos adicionar o atributo <strong>‚Äúpopula√ß√£o‚Äù</strong> aos n√≥s do digrafo, onde cada n√≥ representa uma capital brasileira. Em seguida, utilizaremos uma fun√ß√£o personalizada para realizar o c√°lculo e, por fim, visualizaremos esse caminho no grafo.</p>
<p>O primeiro passo √© verificar se os n√≥s do grafo (as capitais) j√° possuem o atributo <strong>popula√ß√£o</strong>. Vamos percorrer todos os n√≥s e imprimir os resultados.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Verificando se todos os n√≥s possuem o atributo &#39;populacao&#39;</span>
<span class="k">for</span> <span class="n">no</span><span class="p">,</span> <span class="n">dados</span> <span class="ow">in</span> <span class="n">D_viagem</span><span class="o">.</span><span class="n">nodes</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
    <span class="k">if</span> <span class="s1">&#39;populacao&#39;</span> <span class="ow">in</span> <span class="n">dados</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;O n√≥ </span><span class="si">{</span><span class="n">no</span><span class="si">}</span><span class="s2"> tem a popula√ß√£o: </span><span class="si">{</span><span class="n">dados</span><span class="p">[</span><span class="s1">&#39;populacao&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;O n√≥ </span><span class="si">{</span><span class="n">no</span><span class="si">}</span><span class="s2"> n√£o tem o atributo &#39;populacao&#39;&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>O n√≥ Curitiba n√£o tem o atributo &#39;populacao&#39;
O n√≥ S√£o Paulo n√£o tem o atributo &#39;populacao&#39;
O n√≥ Rio de Janeiro n√£o tem o atributo &#39;populacao&#39;
O n√≥ Belo Horizonte n√£o tem o atributo &#39;populacao&#39;
O n√≥ Vit√≥ria n√£o tem o atributo &#39;populacao&#39;
</pre></div>
</div>
</div>
</div>
<hr class="docutils" />
<p>Agora que confirmamos a aus√™ncia do atributo <strong>popula√ß√£o</strong> nos n√≥s, vamos adicionar manualmente a popula√ß√£o de cada capital ao grafo.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Inserindo o atributo &#39;populacao&#39; nos n√≥s do grafo D_viagem</span>
<span class="n">D_viagem</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="s1">&#39;Curitiba&#39;</span><span class="p">][</span><span class="s1">&#39;populacao&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1963726</span>
<span class="n">D_viagem</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="s1">&#39;S√£o Paulo&#39;</span><span class="p">][</span><span class="s1">&#39;populacao&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">12396372</span>
<span class="n">D_viagem</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="s1">&#39;Rio de Janeiro&#39;</span><span class="p">][</span><span class="s1">&#39;populacao&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">6747815</span>
<span class="n">D_viagem</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="s1">&#39;Belo Horizonte&#39;</span><span class="p">][</span><span class="s1">&#39;populacao&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2521564</span>
<span class="n">D_viagem</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="s1">&#39;Vit√≥ria&#39;</span><span class="p">][</span><span class="s1">&#39;populacao&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">365855</span>
</pre></div>
</div>
</div>
</div>
<p>Ap√≥s inserir os valores, vamos verificar novamente se cada n√≥ cont√©m o atributo <strong>popula√ß√£o</strong> corretamente.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Verificando se os atributos foram inseridos corretamente</span>
<span class="k">for</span> <span class="n">no</span><span class="p">,</span> <span class="n">dados</span> <span class="ow">in</span> <span class="n">D_viagem</span><span class="o">.</span><span class="n">nodes</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
    <span class="k">if</span> <span class="s1">&#39;populacao&#39;</span> <span class="ow">in</span> <span class="n">dados</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;O n√≥ </span><span class="si">{</span><span class="n">no</span><span class="si">}</span><span class="s2"> tem a popula√ß√£o: </span><span class="si">{</span><span class="n">dados</span><span class="p">[</span><span class="s1">&#39;populacao&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;O n√≥ </span><span class="si">{</span><span class="n">no</span><span class="si">}</span><span class="s2"> n√£o tem o atributo &#39;populacao&#39;&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>O n√≥ Curitiba tem a popula√ß√£o: 1963726
O n√≥ S√£o Paulo tem a popula√ß√£o: 12396372
O n√≥ Rio de Janeiro tem a popula√ß√£o: 6747815
O n√≥ Belo Horizonte tem a popula√ß√£o: 2521564
O n√≥ Vit√≥ria tem a popula√ß√£o: 365855
</pre></div>
</div>
</div>
</div>
<p>Os atributos foram inseridos corretamente. Vamos criar uma fun√ß√£o personalizada que calcula o peso das arestas com base na soma das popula√ß√µes dos n√≥s adjacentes e, em seguida, utilizaremos essa fun√ß√£o para encontrar o caminho que minimize a popula√ß√£o total entre Curitiba e Vit√≥ria.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Fun√ß√£o personalizada de peso, que retorna a soma das popula√ß√µes dos n√≥s adjacentes</span>
<span class="k">def</span> <span class="nf">peso_populacao</span><span class="p">(</span><span class="n">u</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">d</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">D_viagem</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">u</span><span class="p">][</span><span class="s1">&#39;populacao&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="n">D_viagem</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">v</span><span class="p">][</span><span class="s1">&#39;populacao&#39;</span><span class="p">]</span>

<span class="c1"># Calculando o caminho com menor soma de popula√ß√µes</span>
<span class="n">caminho_menor_populacao</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">shortest_path</span><span class="p">(</span><span class="n">D_viagem</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="s1">&#39;Curitiba&#39;</span><span class="p">,</span> <span class="n">target</span><span class="o">=</span><span class="s1">&#39;Vit√≥ria&#39;</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="n">peso_populacao</span><span class="p">)</span>

<span class="c1"># Exibindo o caminho com a menor soma de popula√ß√µes</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Caminho com menor popula√ß√£o total de Curitiba at√© Vit√≥ria: </span><span class="si">{</span><span class="n">caminho_menor_populacao</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Caminho com menor popula√ß√£o total de Curitiba at√© Vit√≥ria: [&#39;Curitiba&#39;, &#39;S√£o Paulo&#39;, &#39;Belo Horizonte&#39;, &#39;Vit√≥ria&#39;]
</pre></div>
</div>
</div>
</div>
<p>Agora que identificamos o caminho com a menor popula√ß√£o total, vamos calcular a soma das popula√ß√µes ao longo desse caminho.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Calculando a popula√ß√£o total do caminho</span>
<span class="n">populacao_total</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">D_viagem</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">n</span><span class="p">][</span><span class="s1">&#39;populacao&#39;</span><span class="p">]</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">caminho_menor_populacao</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Popula√ß√£o total ao longo do caminho: </span><span class="si">{</span><span class="n">populacao_total</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Popula√ß√£o total ao longo do caminho: 17247517
</pre></div>
</div>
</div>
</div>
<p>Por fim, vamos visualizar o grafo, destacando em <strong>vermelho</strong> o caminho com a menor popula√ß√£o total entre as capitais.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Plotando o grafo e destacando o caminho com menor popula√ß√£o</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
<span class="c1"># Usando um layout para organizar a posi√ß√£o dos n√≥s</span>
<span class="n">pos</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">spring_layout</span><span class="p">(</span><span class="n">D_viagem</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="c1"># Desenhando todos os n√≥s</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw_networkx_nodes</span><span class="p">(</span><span class="n">D_viagem</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">node_color</span><span class="o">=</span><span class="s1">&#39;lightblue&#39;</span><span class="p">,</span> <span class="n">node_size</span><span class="o">=</span><span class="mi">800</span><span class="p">)</span>
<span class="c1"># Desenhando todas as arestas</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw_networkx_edges</span><span class="p">(</span><span class="n">D_viagem</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">edgelist</span><span class="o">=</span><span class="n">D_viagem</span><span class="o">.</span><span class="n">edges</span><span class="p">(),</span> <span class="n">edge_color</span><span class="o">=</span><span class="s1">&#39;gray&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="c1"># Destacando o caminho com menor popula√ß√£o (arestas)</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw_networkx_edges</span><span class="p">(</span><span class="n">D_viagem</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">edgelist</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">caminho_menor_populacao</span><span class="p">,</span> <span class="n">caminho_menor_populacao</span><span class="p">[</span><span class="mi">1</span><span class="p">:])),</span>
                       <span class="n">edge_color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="c1"># Desenhando os r√≥tulos (nomes das capitais)</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw_networkx_labels</span><span class="p">(</span><span class="n">D_viagem</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">font_size</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span> <span class="n">font_weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">)</span>
<span class="c1"># Adicionando r√≥tulos de dist√¢ncias nas arestas</span>
<span class="n">edge_labels</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">get_edge_attributes</span><span class="p">(</span><span class="n">D_viagem</span><span class="p">,</span> <span class="s1">&#39;distancia&#39;</span><span class="p">)</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw_networkx_edge_labels</span><span class="p">(</span><span class="n">D_viagem</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">edge_labels</span><span class="o">=</span><span class="n">edge_labels</span><span class="p">)</span>
<span class="c1"># Exibindo o gr√°fico</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Caminho com Menor Popula√ß√£o Total de Curitiba at√© Vit√≥ria&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/0fe02c75b779ed9ab7e871fea5a451814649d361eccb0a0ef9de99e4ac0d19a2.png" src="_images/0fe02c75b779ed9ab7e871fea5a451814649d361eccb0a0ef9de99e4ac0d19a2.png" />
</div>
</div>
</section>
</section>
<section id="criando-um-multigrafo-no-networkx">
<h2><strong>1.5 Criando um Multigrafo no NetworkX</strong><a class="headerlink" href="#criando-um-multigrafo-no-networkx" title="Link to this heading">#</a></h2>
<p>Neste exerc√≠cio, vamos criar um <strong>multigrafo</strong>, que permite a exist√™ncia de v√°rias arestas entre os mesmos n√≥s, representando diferentes tipos de conex√£o entre as cidades. Vamos criar m√∫ltiplas conex√ß√µes entre <strong>Belo Horizonte</strong> e <strong>Vit√≥ria</strong>, representando diferentes modos de transporte: <strong>rodovia</strong>, <strong>ferrovia</strong> e <strong>via a√©rea</strong>. Em seguida, visualizaremos essas conex√µes no grafo, destacando cada uma delas com arcos para evitar sobreposi√ß√£o.</p>
<p>O primeiro passo √© criar o <strong>multigrafo</strong>, que permitir√° adicionar v√°rias arestas entre os mesmos n√≥s, representando diferentes modos de transporte.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Criando um multigrafo</span>
<span class="n">G_multi</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">MultiGraph</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>Agora, vamos adicionar os n√≥s ao multigrafo. Neste caso, os n√≥s representar√£o as cidades <strong>Belo Horizonte</strong> e <strong>Vit√≥ria</strong>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Adicionando os n√≥s (cidades)</span>
<span class="n">G_multi</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="s1">&#39;Belo Horizonte&#39;</span><span class="p">)</span>
<span class="n">G_multi</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="s1">&#39;Vit√≥ria&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Esses n√≥s servir√£o como os pontos de partida e chegada para as m√∫ltiplas arestas que iremos adicionar.</p>
<p>Em seguida, adicionamos m√∫ltiplas arestas entre as cidades. Cada aresta representar√° um tipo de transporte, como <strong>rodovia</strong>, <strong>ferrovia</strong>, e <strong>via a√©rea</strong>, com suas respectivas dist√¢ncias.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Adicionando m√∫ltiplas arestas entre os n√≥s Belo Horizonte e Vit√≥ria</span>
<span class="n">G_multi</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="s1">&#39;Belo Horizonte&#39;</span><span class="p">,</span> <span class="s1">&#39;Vit√≥ria&#39;</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="s1">&#39;rodovia&#39;</span><span class="p">,</span> <span class="n">tipo</span><span class="o">=</span><span class="s1">&#39;rodovia&#39;</span><span class="p">,</span> <span class="n">distancia</span><span class="o">=</span><span class="mi">524</span><span class="p">)</span>
<span class="n">G_multi</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="s1">&#39;Belo Horizonte&#39;</span><span class="p">,</span> <span class="s1">&#39;Vit√≥ria&#39;</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="s1">&#39;ferrovia&#39;</span><span class="p">,</span> <span class="n">tipo</span><span class="o">=</span><span class="s1">&#39;ferrovia&#39;</span><span class="p">,</span> <span class="n">distancia</span><span class="o">=</span><span class="mi">664</span><span class="p">)</span>
<span class="n">G_multi</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="s1">&#39;Belo Horizonte&#39;</span><span class="p">,</span> <span class="s1">&#39;Vit√≥ria&#39;</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="s1">&#39;via_aerea&#39;</span><span class="p">,</span> <span class="n">tipo</span><span class="o">=</span><span class="s1">&#39;via a√©rea&#39;</span><span class="p">,</span> <span class="n">distancia</span><span class="o">=</span><span class="mi">450</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;via_aerea&#39;
</pre></div>
</div>
</div>
</div>
<p>Aqui, estamos usando a op√ß√£o <code class="docutils literal notranslate"><span class="pre">key</span></code> para diferenciar as arestas que conectam os mesmos n√≥s, mas com tipos de transporte e dist√¢ncias diferentes.</p>
<p>Depois de adicionar as arestas, vamos exibir todas as conex√µes (arestas) criadas no multigrafo, juntamente com os atributos associados a elas (tipo de transporte e dist√¢ncia).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Exibindo as arestas e os atributos</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Arestas no multigrafo entre Belo Horizonte e Vit√≥ria:&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">u</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">G_multi</span><span class="o">.</span><span class="n">edges</span><span class="p">(</span><span class="n">keys</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">u</span><span class="si">}</span><span class="s2"> -&gt; </span><span class="si">{</span><span class="n">v</span><span class="si">}</span><span class="s2">, Tipo: </span><span class="si">{</span><span class="n">d</span><span class="p">[</span><span class="s1">&#39;tipo&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">, Dist√¢ncia: </span><span class="si">{</span><span class="n">d</span><span class="p">[</span><span class="s1">&#39;distancia&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> km&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Arestas no multigrafo entre Belo Horizonte e Vit√≥ria:
Belo Horizonte -&gt; Vit√≥ria, Tipo: rodovia, Dist√¢ncia: 524 km
Belo Horizonte -&gt; Vit√≥ria, Tipo: ferrovia, Dist√¢ncia: 664 km
Belo Horizonte -&gt; Vit√≥ria, Tipo: via a√©rea, Dist√¢ncia: 450 km
</pre></div>
</div>
</div>
</div>
<p>Agora, vamos visualizar o multigrafo. Para evitar que as m√∫ltiplas arestas entre os mesmos n√≥s se sobreponham, criaremos arcos para representar cada tipo de transporte, facilitando a visualiza√ß√£o.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Plotando o multigrafo com deslocamento nas arestas</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">pos</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">spring_layout</span><span class="p">(</span><span class="n">G_multi</span><span class="p">)</span>
<span class="c1"># Desenhando n√≥s</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">G_multi</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">with_labels</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">node_size</span><span class="o">=</span><span class="mi">700</span><span class="p">,</span> <span class="n">node_color</span><span class="o">=</span><span class="s1">&#39;lightblue&#39;</span><span class="p">,</span> <span class="n">font_size</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="c1"># Desenhando arestas com diferentes arcos para n√£o sobreporem</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw_networkx_edges</span><span class="p">(</span><span class="n">G_multi</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">edgelist</span><span class="o">=</span><span class="p">[(</span><span class="s1">&#39;Belo Horizonte&#39;</span><span class="p">,</span> <span class="s1">&#39;Vit√≥ria&#39;</span><span class="p">,</span> <span class="s1">&#39;rodovia&#39;</span><span class="p">)],</span>
                       <span class="n">connectionstyle</span><span class="o">=</span><span class="s1">&#39;arc3,rad=0.2&#39;</span><span class="p">,</span> <span class="n">edge_color</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">)</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw_networkx_edges</span><span class="p">(</span><span class="n">G_multi</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">edgelist</span><span class="o">=</span><span class="p">[(</span><span class="s1">&#39;Belo Horizonte&#39;</span><span class="p">,</span> <span class="s1">&#39;Vit√≥ria&#39;</span><span class="p">,</span> <span class="s1">&#39;ferrovia&#39;</span><span class="p">)],</span>
                       <span class="n">connectionstyle</span><span class="o">=</span><span class="s1">&#39;arc3,rad=-0.2&#39;</span><span class="p">,</span> <span class="n">edge_color</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">)</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw_networkx_edges</span><span class="p">(</span><span class="n">G_multi</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">edgelist</span><span class="o">=</span><span class="p">[(</span><span class="s1">&#39;Belo Horizonte&#39;</span><span class="p">,</span> <span class="s1">&#39;Vit√≥ria&#39;</span><span class="p">,</span> <span class="s1">&#39;via_aerea&#39;</span><span class="p">)],</span>
                       <span class="n">connectionstyle</span><span class="o">=</span><span class="s1">&#39;arc3,rad=0&#39;</span><span class="p">,</span> <span class="n">edge_color</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">)</span>
<span class="c1"># Adicionando r√≥tulos para as arestas</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw_networkx_edge_labels</span><span class="p">(</span><span class="n">G_multi</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">edge_labels</span><span class="o">=</span><span class="p">{(</span><span class="n">u</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">k</span><span class="p">):</span> <span class="n">d</span><span class="p">[</span><span class="s1">&#39;tipo&#39;</span><span class="p">]</span> <span class="k">for</span> <span class="n">u</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">G_multi</span><span class="o">.</span><span class="n">edges</span><span class="p">(</span><span class="n">keys</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="kc">True</span><span class="p">)})</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Multigrafo: Conex√µes entre Belo Horizonte e Vit√≥ria (Rodovia, Ferrovia, Via A√©rea)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/fab46730d32aeb0ac7d89eee5a67e611b10473c7ef57b1c6f1298a86a7f6fbec.png" src="_images/fab46730d32aeb0ac7d89eee5a67e611b10473c7ef57b1c6f1298a86a7f6fbec.png" />
</div>
</div>
<p>No c√≥dico acima:</p>
<p><code class="docutils literal notranslate"><span class="pre">pos</span> <span class="pre">=</span> <span class="pre">nx.spring_layout(G_multi)</span></code>:  Essa linha calcula a posi√ß√£o dos n√≥s no grafo utilizando o layout de mola (spring layout). Esse layout funciona como se houvesse for√ßas de repuls√£o e atra√ß√£o entre os n√≥s, criando uma distribui√ß√£o mais equilibrada no espa√ßo. A vari√°vel <code class="docutils literal notranslate"><span class="pre">pos</span></code> armazena as coordenadas de cada n√≥ geradas pelo layout, que ser√£o usadas para desenhar os n√≥s e as arestas do multigrafo.</p>
<p><code class="docutils literal notranslate"><span class="pre">nx.draw(G_multi,</span> <span class="pre">pos,</span> <span class="pre">with_labels=True,</span> <span class="pre">node_size=700,</span> <span class="pre">node_color='lightblue',</span> <span class="pre">font_size=10)</span></code>:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">nx.draw()</span></code>: Esta fun√ß√£o desenha o grafo no layout especificado.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">G_multi</span></code>: O multigrafo que est√° sendo desenhado.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pos</span></code>: As posi√ß√µes dos n√≥s (calculadas pelo <code class="docutils literal notranslate"><span class="pre">spring_layout</span></code>), garantindo que os n√≥s e as arestas sejam desenhados nos locais corretos.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">with_labels=True</span></code>: Exibe os r√≥tulos dos n√≥s (os nomes das cidades, no caso).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">node_size=700</span></code>: Define o tamanho dos n√≥s no gr√°fico, tornando-os grandes o suficiente para serem bem vis√≠veis.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">node_color='lightblue'</span></code>: Define a cor dos n√≥s como azul-claro.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">font_size=10</span></code>: Define o tamanho da fonte dos r√≥tulos dos n√≥s como 10.</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">nx.draw_networkx_edges()</span></code>:<br />
Essa fun√ß√£o desenha as arestas (conex√µes) entre os n√≥s no grafo.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">edgelist=[('Belo</span> <span class="pre">Horizonte',</span> <span class="pre">'Vit√≥ria',</span> <span class="pre">'rodovia')]</span></code>: Especifica que estamos desenhando a aresta que representa a <strong>rodovia</strong> entre <strong>Belo Horizonte</strong> e <strong>Vit√≥ria</strong>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">connectionstyle='arc3,rad=0.2'</span></code>: Define o estilo da conex√£o. O valor <code class="docutils literal notranslate"><span class="pre">arc3,rad=0.2</span></code> indica que a aresta deve ser desenhada como um arco curvado, com uma curvatura (raio) de 0,2. Isso impede que as arestas se sobreponham e facilita a visualiza√ß√£o de v√°rias conex√µes entre os mesmos n√≥s.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">edge_color='black'</span></code>: Define a cor da aresta como preta.</p></li>
</ul>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="intro.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Welcome to your Jupyter Book</p>
      </div>
    </a>
    <a class="right-next"
       href="capitulo2.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Cap√≠tulo 2 - Manipula√ß√£o de redes espaciais</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introducao">Introdu√ß√£o</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#fundamentos-sobre-grafos">1.1 Fundamentos sobre Grafos</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#a-biblioteca-networkx-do-python">1.2 A biblioteca NetworkX do Python</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#criando-e-manipulando-um-grafo-simples">1.3 Criando e Manipulando um Grafo Simples</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#criando-um-digrafo-de-viagens-entre-capitais-brasileiras">1.4 Criando um Digrafo de Viagens entre Capitais Brasileiras</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#estrutura-do-exercicio">Estrutura do Exerc√≠cio:</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#encontrando-o-caminho-mais-curto-no-digrafo"><strong>1.4.1 - Encontrando o Caminho Mais Curto no Digrafo</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#calculando-o-caminho-com-menor-soma-de-populacoes"><strong>1.4.2 Calculando o Caminho com Menor Soma de Popula√ß√µes</strong></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#criando-um-multigrafo-no-networkx"><strong>1.5 Criando um Multigrafo no NetworkX</strong></a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Alexandro Gularte Schafer
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      ¬© Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="_static/scripts/bootstrap.js?digest=26a4bc78f4c0ddb94549"></script>
<script defer src="_static/scripts/pydata-sphinx-theme.js?digest=26a4bc78f4c0ddb94549"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>
